<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chemistry Game Show</title>

    <!-- Embedded CSS Styles -->
    <style>
        /* Use the imported Lato font */
        body {
            font-family: 'Lato', sans-serif;
            background-color: #eef2f7;
            /* Light, cool background */
            color: #333;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
        }

        .container {
            background-color: #ffffff;
            /* White container background */
            padding: 30px;
            border-radius: 8px;
            /* Subtle rounding */
            text-align: center;
            max-width: 650px;
            /* Wider container */
            width: 100%;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);
            /* Clean shadow */
        }

        #lesson-selection.container {
            padding: 40px 30px;
        }

        #lesson-selection h2 {
            color: #1a2a6c;
            /* Deep blue */
            margin-bottom: 30px;
            font-size: 2.2em;
            font-weight: 900;
            /* Lato Black */
        }

        .action-button {
            background-color: #4a69bd;
            /* Muted blue */
            color: white;
            border: none;
            padding: 12px 25px;
            font-size: 1.1em;
            border-radius: 5px;
            cursor: pointer;
            margin: 8px;
            transition: background-color 0.2s ease, transform 0.1s ease;
            font-weight: 700;
            /* Lato Bold */
            text-transform: uppercase;
        }

        .action-button:hover:not(:disabled) {
            background-color: #3b5998;
            /* Darker blue on hover */
            transform: translateY(-2px);
        }

        .action-button:active:not(:disabled) {
            transform: translateY(0);
        }

        .action-button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        /* Specific style for the skip button */
        #skip-button {
            background-color: #6c757d;
            /* Muted grey */
            margin-top: 15px;
            /* Space above skip button */
            margin-bottom: 15px;
            /* Space below skip button before separator/next */
        }

        #skip-button:hover:not(:disabled) {
            background-color: #5a6268;
            /* Darker grey on hover */
        }

         /* Specific style for the reveal answer button */
         #reveal-answer-button {
             background-color: #17a2b8; /* Info blue */
             margin-top: 15px;
             margin-bottom: 15px;
         }
         #reveal-answer-button:hover:not(:disabled) {
             background-color: #138496; /* Darker info blue */
         }


        /* Style for the "Add to Remember" button */
        #add-to-remember-button {
            background-color: #ffc107;
            /* Orange/Yellow */
            color: #343a40;
            /* Dark text */
            font-size: 0.9em;
            /* Slightly smaller */
            padding: 8px 15px;
            margin-top: 15px;
            margin-bottom: 10px;
            border-radius: 5px;
        }

        #add-to-remember-button:hover:not(:disabled) {
            background-color: #e0a800;
            /* Darker orange */
        }

        #add-to-remember-button:disabled {
            /* Use a lighter version of its own color */
            background-color: #cccccc; /* Grey color for disabled remember button */
            color: #666; /* Dark grey text */
            cursor: not-allowed;
        }

         /* Style for self-correction buttons (Right/Wrong) */
        .self-correct-button {
            background-color: #28a745; /* Green for Right */
            color: white;
            border: none;
            padding: 12px 25px;
            font-size: 1.1em;
            border-radius: 5px;
            cursor: pointer;
            margin: 8px;
            transition: background-color 0.2s ease, transform 0.1s ease;
            font-weight: 700;
            text-transform: uppercase;
        }

        .self-correct-button.wrong {
             background-color: #dc3545; /* Red for Wrong */
        }

        .self-correct-button:hover:not(:disabled) {
             background-color: #218838; /* Darker green */
             transform: translateY(-2px);
        }

        .self-correct-button.wrong:hover:not(:disabled) {
             background: #c82333; /* Darker red */
             transform: translateY(-2px);
        }

        .self-correct-button:active:not(:disabled) {
             transform: translateY(0);
        }

        .self-correct-button:disabled {
             opacity: 0.6;
             cursor: not-allowed;
        }


        #game-title {
            color: #1a2a6c;
            /* Deep blue */
            margin-bottom: 15px;
            /* Less margin above counter */
            font-size: 2em;
            font-weight: 900;
        }

        .question-counter {
            font-size: 1em;
            color: #666;
            margin-bottom: 25px;
            /* Space below counter */
            font-weight: 400;
            /* Lato Regular */
        }

        #question-area {
            margin-bottom: 20px;
        }

        #question-text {
            font-size: 1.3em;
            margin-bottom: 20px;
            font-weight: 700;
            /* Lato Bold */
            line-height: 1.5;
            color: #444;
            text-align: left;
            /* Align question text left */
        }

        #answer-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-bottom: 20px;
            /* Add margin below answer buttons */
        }

         #essay-self-correction-buttons {
             /* Container for essay correction buttons */
             margin-top: 15px; /* Space above buttons */
             margin-bottom: 20px; /* Space below buttons */
         }


        .answer-button {
            background-color: #f0f0f0;
            /* Light grey button */
            color: #333;
            border: 1px solid #ddd;
            padding: 12px 15px;
            font-size: 1em;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.2s ease, border-color 0.2s ease;
            text-align: left;
            word-wrap: break-word;
            font-weight: 400;
        }

        .answer-button:hover:not(:disabled) {
            background-color: #e0e0e0;
            /* Slightly darker grey on hover */
            border-color: #ccc;
        }

        .answer-button:disabled {
            cursor: not-allowed;
            opacity: 0.8;
        }

        /* Visual feedback on answer buttons */
        .answer-button.correct {
            background-color: #4CAF50;
            /* Green */
            border-color: #4CAF50;
            color: white;
            font-weight: 700;
        }

        .answer-button.incorrect {
            background-color: #f44336;
            /* Red */
            border-color: #f44336;
            color: white;
            font-weight: 700;
        }

        #feedback {
            margin-top: 20px;
            font-size: 1.1em;
            min-height: 1.4em;
            font-weight: 700;
            color: #333;
            /* Neutral color, feedback color set by JS */
        }

        #explanation-area {
            margin-top: 15px;
            padding: 15px;
            background-color: #e8f5e9;
            /* Very light green for explanation */
            border: 1px solid #c8e6c9;
            /* Light green border */
            border-radius: 5px;
            text-align: left;
            color: #2e7d32;
            /* Dark green text */
            font-size: 0.95em;
            line-height: 1.5;
            opacity: 0;
            /* Start hidden */
            transform: translateY(10px);
            /* Start slightly lower */
            transition: opacity 0.5s ease-out, transform 0.5s ease-out;
            /* Animation */
        }

        #explanation-area.visible {
            /* Class added by JS */
            opacity: 1;
            transform: translateY(0);
        }


        #explanation-area h3 {
            margin-top: 0;
            margin-bottom: 8px;
            font-size: 1em;
            font-weight: 700;
            color: #1b5e20;
            /* Even darker green */
        }

        #score-area {
            margin-top: 20px;
            font-size: 1.1em;
            color: #1a2a6c;
            /* Deep blue */
            font-weight: 700;
        }

        .separator {
            border: none;
            border-top: 1px solid #eee;
            /* Very light solid line */
            height: 1px;
            margin: 20px 0;
        }

        #final-score {
            margin-top: 20px;
            font-size: 1.2em;
        }

        #final-score h2 {
            color: #1a2a6c;
            /* Deep blue */
            margin-bottom: 10px;
            font-weight: 900;
        }

        #final-score p {
            margin-bottom: 15px;
            font-weight: 700;
        }

        #final-score .action-button {
            margin-top: 15px;
            /* Less space above final score buttons */
        }


        #quote-area {
            margin-top: 25px;
            padding-top: 15px;
            border-top: 1px solid #eee;
            /* Very light solid line */
            color: #6c757d;
            /* Muted grey text */
            font-size: 0.9em;
            font-style: italic;
            font-weight: 400;
        }

        #current-quote {
            margin: 0;
            line-height: 1.4;
        }

        .hidden {
            display: none;
        }
    </style>

    <!-- Link to Google Fonts (Lato) -->
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700;900&display=swap" rel="stylesheet">
    <!-- jsPDF library for PDF generation -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js" integrity="sha512-GsLlZN/3F2ErC5ifS5QtgpiJtWd43JWSuIgh7mbzZ8zBps+dvLusV+eNQATqgA/HdeKFVgA5v3S/cIrLF7QnIg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</head>

<body>
    <div id="lesson-selection" class="container">
        <h2>Choose a Lesson</h2>
        <!-- Lesson buttons will be added here by JavaScript -->
    </div>

    <div class="game-container container hidden">
        <h1 id="game-title">Math (Application) Game Show!</h1>
        <div class="question-counter">Question <span id="current-q-num">0</span> of <span id="total-q-num">0</span>
        </div>

        <div id="question-area">
            <p id="question-text">Loading question...</p>
            <div id="answer-buttons">
                <!-- MCQ Answer buttons will be added here by JavaScript -->
            </div>
            <button id="reveal-answer-button" class="action-button hidden">Reveal Answer</button> <!-- New Reveal button -->
            <div id="essay-self-correction-buttons" class="hidden">
                <!-- Essay self-correction buttons will be added here by JavaScript -->
            </div>
        </div>

        <div id="feedback">
            <!-- Feedback message (Correct/Incorrect/Skipped/Self-Corrected) will appear here -->
        </div>

        <div id="explanation-area" class="hidden">
            <h3>Explanation:</h3>
            <p id="explanation-text"></p>
        </div>

        <!-- Add the "Add to Remember" button here -->
        <button id="add-to-remember-button" class="action-button hidden">Add to Remember List</button>


        <div id="score-area">
            Score: <span id="score">0</span>
        </div>

        <hr class="separator">

        <!-- Add the Skip button (visible only for MCQs) -->
        <button id="skip-button" class="action-button hidden">Skip Question</button>

        <button id="next-button" class="action-button hidden">Next Question</button>

        <div id="final-score" class="hidden">
            <h2>Game Over!</h2>
            <p>Your final score for this lesson is: <span id="final-score-text">0</span> / <span
                    id="final-total-text">0</span></p>
            <button id="download-mistakes-pdf" class="action-button hidden">Download Review PDF</button>
            <!-- Add the "Export All" button here -->
            <button id="export-all-pdf-button" class="action-button hidden">Export All Questions with Answers</button>
            <button id="restart-button" class="action-button">Choose Another Lesson</button>
        </div>

        <div id="quote-area">
            <p id="current-quote"></p>
        </div>
    </div>

    <!-- Embedded JavaScript -->
    <script>
        // Define the lesson topic(s) based on the new PDF
const Topics = {
    PLANT_TROPISM_SENSATION: 'Plant Tropism and Sensation',
    NERVOUS_SYSTEM_STRUCTURE: 'Nervous System Structure (Neurons and Neuroglia)',
    NERVOUS_SYSTEM_PHYSIOLOGY: 'Nerve Impulse Transmission (Polarization, Action Potential)',
};

const allQuestions = [
    // Page 1: Fourth Week Class Performance
    {
        type: 'mcq',
        topic: Topics.PLANT_TROPISM_SENSATION,
        originalNumber: 1,
        question: "1- The swollen (Pulvinous) in mimosa plant represent the role of ............ in human.",
        options: ["a- muscles", "b- joints", "c- ligaments", "d- bones"],
        correctAnswer: 1,
        correctAnswerText: "b- joints",
        explanation: "The pulvinus is a motor organ at the base of plant leaves or leaflets, allowing for movement through changes in turgor pressure. This functional role of enabling movement at a specific point is analogous to how joints allow movement and bending in the human skeletal system.<br><br><b>Why this answer is correct:</b> Joints facilitate movement and bending in humans at specific points, a function mirrored by the pulvinus in enabling plant leaf/leaflet movement.<br><br><b>Why other options are incorrect:</b><br>a- Muscles generate force for movement, but the pulvinus acts as the point of articulation and mechanism for bending, not the generator of force in the same way as muscle.<br>c- Ligaments are connective tissues that stabilize joints, they do not cause movement.<br>d- Bones are structural supports; movement happens at joints where bones articulate."
    },
    {
        type: 'mcq',
        topic: Topics.PLANT_TROPISM_SENSATION,
        originalNumber: 2,
        question: "2- In which of the following living organisms does the process of sensation appear more clearly?",
        options: ["a- apples", "b- mimosa", "c- rabbit", "d- oats"],
        correctAnswer: 1,
        correctAnswerText: "b- mimosa",
        explanation: "Sensation is the ability to perceive and respond to stimuli. The Mimosa pudica plant is famous for its rapid and dramatic folding of leaves in response to touch (thigmonasty), making its sensory response exceptionally visible and clear compared to the other options.<br><br><b>Why this answer is correct:</b> The rapid, visible movement of Mimosa leaves upon touch is a clear demonstration of sensation.<br><br><b>Why other options are incorrect:</b><br>a- Apples are fruits; the plant they come from exhibits sensation (like tropisms) but not in such a dramatic, clearly visible manner.<br>c- Rabbits are animals with complex sensation via a nervous system, but the context seems to relate to common biological examples where sensation is studied, and Mimosa is a classic plant example.<br>d- Oats are plants exhibiting slower growth-based responses (tropisms)."
    },
    {
        type: 'mcq',
        topic: Topics.PLANT_TROPISM_SENSATION,
        originalNumber: 3,
        question: "3- Which of the following happen when the growing plant is exposed to light from the right side?",
        options: ["a- the stem moves to the left and the root to the right", "b- the stem moves to the right and the root to the left", "c- the stem and root move to the right direction", "d- the stem and root move to the left direction"],
        correctAnswer: 1,
        correctAnswerText: "b- the stem moves to the right and the root to the left",
        explanation: "Stems are positively phototropic, growing towards light. Roots are negatively phototropic (or insensitive), growing away from light. If light comes from the right, the stem bends right, and the root grows left (away from the light).<br><br><b>Why this answer is correct:</b> Stem moves towards light (right), root moves away from light (left).<br><br><b>Why other options are incorrect:</b><br>a- Stem moves towards light (right), not left.<br>c- Root moves away from light (left), not right.<br>d- Stem moves towards light (right), not left. Root moves away from light (left)."
    },
    {
        type: 'essay',
        topic: Topics.PLANT_TROPISM_SENSATION,
        originalNumber: 1,
        question: "Write what the following expressions mean:\n1- The direction of the stem of growing plant towards the light.",
        correctAnswerText: "Positive phototropism of the stem.",
        explanation: "Phototropism is directional growth in response to light. Growing towards the light source is positive phototropism."
    },
    {
        type: 'essay',
        topic: Topics.PLANT_TROPISM_SENSATION,
        originalNumber: 2,
        question: "Write what the following expressions mean:\n2- The response of the living organism to internal and external stimuli.",
        correctAnswerText: "Sensation.",
        explanation: "Sensation is the fundamental property of irritability, enabling organisms to detect and react to changes (stimuli)."
    },
    {
        type: 'essay',
        topic: Topics.PLANT_TROPISM_SENSATION,
        originalNumber: 3,
        question: "Write what the following expressions mean:\n3- Chemical substances that affect on plant growth and found in the growing tips.",
        correctAnswerText: "Auxins (or Plant hormones).",
        explanation: "Auxins are key plant hormones produced in apical meristems that regulate growth and development, including tropisms."
    },
    {
        type: 'essay',
        topic: Topics.PLANT_TROPISM_SENSATION,
        originalNumber: 1,
        question: "Give reasons for the following:\n1- The root is a negative phototropism.",
        correctAnswerText: "Roots exhibit negative phototropism, growing away from light. This is because higher auxin concentrations, which accumulate on the shaded side due to unilateral light, inhibit cell elongation in roots. Cells on the illuminated side elongate more, causing the root to bend away from the light.",
        explanation: "Explains the directional growth away from light and the underlying mechanism involving auxin's inhibitory effect on root elongation at high concentrations."
    },
    {
        type: 'essay',
        topic: Topics.PLANT_TROPISM_SENSATION,
        originalNumber: 2,
        question: "Give reasons for the following:\n2- The lower half of cell walls of the swollen (Pulvinous) has importance in movement.",
        correctAnswerText: "The motor cells in the pulvinus have differential wall thickness or properties, with the lower cells often having walls structured to facilitate swelling and shrinking due to turgor changes. These changes in turgor pressure, particularly the rapid loss of turgor on the lower side (or gain on the upper side), cause the bending or folding movement.",
        explanation: "Highlights the structural difference in pulvinus cell walls that enables differential turgor changes to result in movement."
    },
    {
        type: 'essay',
        topic: Topics.PLANT_TROPISM_SENSATION,
        originalNumber: 1,
        question: "Mention two conditions for occurrence of phototropism.",
        correctAnswerText: "1.  A unilateral light stimulus (light coming primarily from one direction).\n2.  A growing plant organ (like a stem or coleoptile) with a light-sensitive tip capable of producing and distributing auxin.",
        explanation: "Lists the essential external trigger and the biological requirement for the phototropic response."
    },

    // Page 2: Fourth Week Home performances
    {
        type: 'essay',
        topic: Topics.PLANT_TROPISM_SENSATION,
        originalNumber: 1,
        question: "1- Define the following:\na- Sensation.\nb- Tropism",
        correctAnswerText: "a- Sensation: The ability of a living organism to detect changes in its environment (stimuli) and respond to them.\nb- Tropism: A directional growth response of a plant organ towards or away from an external stimulus.",
        explanation: "Provides standard definitions for sensation and tropism."
    },
    {
        type: 'essay',
        topic: Topics.PLANT_TROPISM_SENSATION,
        originalNumber: 2,
        question: "2- Correct what is underlined:\na- One of the plants that show the movement of sleep and wakefulness is the <U>date palm</U>.\nb- <U>Roots</U> play the role of joints when plants respond to touch or darkness.\nc- One of the scientists who contributed to explaining the phenomenon of phototropism is the scientist <U>Malpighi</U>",
        correctAnswerText: "a- One of the plants that show the movement of sleep and wakefulness is the <U>Mimosa (or sensitive plant)</U>.\nb- <U>Pulvini (or swollen leaf bases)</U> play the role of joints when plants respond to touch or darkness.\nc- One of the scientists who contributed to explaining the phenomenon of phototropism is the scientist <U>Darwin (or Went)</U>",
        explanation: "Corrects the underlined incorrect terms with the proper biological terms (Mimosa for sleep/wakefulness movements, Pulvini for joint-like function in movement, and Darwin/Went for pioneering work on phototropism explanation)."
    },
    {
        type: 'essay',
        topic: Topics.PLANT_TROPISM_SENSATION,
        originalNumber: 3,
        question: "3- Give reasons for the following:\na- The phenomenon of wilting occurs when touching a mimosa plant\nb- The importance of the sensation's property for a living organism",
        correctAnswerText: "a- Wilting (rapid folding) in Mimosa occurs because the touch stimulus triggers rapid changes in the permeability of pulvinus cell membranes, leading to a quick efflux of water from these motor cells. The loss of turgor pressure causes the cells to shrink, resulting in the collapse and folding of the leaf/leaflets.\nb- Sensation is vital for living organisms as it allows them to perceive stimuli from their environment and internal state, enabling adaptive responses such as seeking resources (light, water), avoiding dangers (predators, toxins), maintaining homeostasis, and coordinating physiological processes.",
        explanation: "Explains the mechanism of thigmonasty in Mimosa (turgor changes) and the adaptive value of sensation for survival and function."
    },
    {
        type: 'essay',
        topic: Topics.PLANT_TROPISM_SENSATION,
        originalNumber: 4,
        question: "4- What happens when?:\na- The growing plant is exposed to light from the east direction (for each of the following):\n1) Root\n2) Stem",
        correctAnswerText: "1) Root: The root will grow away from the light source, bending towards the west (negative phototropism).\n2) Stem: The stem will grow towards the light source, bending towards the east (positive phototropism).",
        explanation: "Describes the directional growth responses of roots and stems to unilateral light."
    },
    {
        type: 'essay',
        topic: Topics.PLANT_TROPISM_SENSATION,
        originalNumber: 4,
        question: "b- The swollen (Pulvinous) which in the leaves of the mimosa plant are disappeared.",
        correctAnswerText: "If the pulvini are absent or non-functional, the mimosa plant would lose its ability to perform rapid touch-induced movements (thigmonasty) and rhythmic sleep/wake movements (nyctinasty) of its leaves.",
        explanation: "States the consequence of lacking the motor organs responsible for rapid, turgor-driven movements in Mimosa."
    },
    {
        type: 'essay',
        topic: Topics.PLANT_TROPISM_SENSATION,
        originalNumber: 4,
        question: "c- Remove the top of the oat seedling and separate it with a mica sheet",
        correctAnswerText: "Removing the coleoptile tip removes the source of auxin production. Separating the tip (or a piece placed on the cut surface) with an impermeable mica sheet prevents any auxin produced from reaching the bending region below. Consequently, the seedling will not show phototropic bending towards unilateral light.",
        explanation: "Describes the result of interrupting auxin transport from the light-sensing tip, a classic experiment in phototropism research."
    },

    // Page 3: Weekly evaluation (4) A
    {
        type: 'mcq',
        topic: Topics.PLANT_TROPISM_SENSATION,
        originalNumber: 1,
        question: "1- The parts of the mimosa plant that do not affected by touch are ...........",
        options: ["a- Leaflets.", "b- Swollen leaf bases.", "c- The stem.", "d- Secondary axes"],
        correctAnswer: 2,
        correctAnswerText: "c- The stem.",
        explanation: "The rapid touch-sensitive movement in Mimosa is primarily mediated by the pulvini located at the base of leaflets, secondary axes (pinnae), and the main petiole. While the entire plant is living and responsive, the main stem is not the primary structure involved in the rapid folding response triggered by touch on the leaves.<br><br><b>Why this answer is correct:</b> The dramatic, rapid touch response in Mimosa occurs in the leaves and their associated pulvini, not the main stem.<br><br><b>Why other options are incorrect:</b><br>a- Leaflets are the parts that fold rapidly.<br>b- Swollen leaf bases (pulvini) are the motor organs responsible for the movement.<br>d- Secondary axes (pinnae) also droop due to pulvini at their base."
    },
    {
        type: 'mcq',
        topic: Topics.PLANT_TROPISM_SENSATION,
        originalNumber: 2,
        question: "2- Increasing the concentration of auxins leads to....",
        options: ["a- Increased elongation of root cells.", "b- Increased elongation of the stem cells.", "c- Decrease in stem cell elongation.", "d- Inhibition of root cell elongation."],
        correctAnswer: 3,
        correctAnswerText: "d- Inhibition of root cell elongation.",
        explanation: "Auxins have different optimal concentrations for promoting elongation in stems and roots. Concentrations that are optimal for stimulating stem elongation are inhibitory to root elongation because root cells are much more sensitive to auxin.<br><br><b>Why this answer is correct:</b> Higher auxin concentrations inhibit root cell elongation.<br><br><b>Why other options are incorrect:</b><br>a- Increased auxin *inhibits* root cell elongation at these concentrations.<br>b- Increased auxin *increases* stem cell elongation (up to an optimum).<br>c- Increased auxin *increases* stem cell elongation (up to an optimum)."
    },
    {
        type: 'essay',
        topic: Topics.PLANT_TROPISM_SENSATION,
        originalNumber: 1,
        question: "Write what the following expressions mean:\na- The growing plant responds to an external stimulus, which is Earth's gravity, so plant organs move toward or away from it. (.................)",
        correctAnswerText: "Geotropism (or Gravitropism).",
        explanation: "Geotropism is directional growth in response to gravity."
    },
    {
        type: 'essay',
        topic: Topics.PLANT_TROPISM_SENSATION,
        originalNumber: 2,
        question: "Write what the following expressions mean:\nb- The scientist who built his explanation of phototropism through his observations and conclusions from his experiments that he conducted on the coleoptile of the oat seedling. (................)",
        correctAnswerText: "Charles Darwin and Francis Darwin.",
        explanation: "The Darwins' experiments on oat coleoptiles were foundational in proposing that the tip perceives light and transmits a signal to the bending region, leading to their explanation of phototropism."
    },
    {
        type: 'essay',
        topic: Topics.PLANT_TROPISM_SENSATION,
        originalNumber: 3,
        question: "Give reasons for the following:\nThe movement of the mimosa plant depends on internal and external factors.",
        correctAnswerText: "External factors like touch, temperature changes, or light/dark cycles act as stimuli. These stimuli trigger internal physiological changes within the pulvinus cells, such as rapid changes in turgor pressure caused by the movement of ions and water across membranes. These internal cellular changes directly result in the physical movement of the leaves/leaflets.",
        explanation: "Explains how external stimuli initiate responses involving internal physiological mechanisms (turgor changes) in Mimosa movements."
    },

    // Page 4: Weekly evaluation (4) B
    {
        type: 'mcq',
        topic: Topics.PLANT_TROPISM_SENSATION,
        originalNumber: 1,
        question: "1- The mimosa plant has ............ looks like the function of human joints.",
        options: ["a- Leaflets.", "b- Primary rachis.", "c- Secondary rachis.", "d- Swollen (Pulvinous)."],
        correctAnswer: 3,
        correctAnswerText: "d- Swollen (Pulvinous).",
        explanation: "As explained previously, the pulvinus acts as a motor organ enabling joint-like movement in Mimosa leaves.<br><br><b>Why this answer is correct:</b> The pulvinus's function is analogous to a joint in allowing bending and movement.<br><br><b>Why other options are incorrect:</b><br>a- Leaflets are the structures that move.<br>b- The primary rachis is a part of the leaf structure that bends *at* a pulvinus.<br>c- The secondary rachis is a part of the leaf structure that bends *at* a pulvinus."
    },
    {
        type: 'mcq',
        topic: Topics.PLANT_TROPISM_SENSATION,
        originalNumber: 2,
        question: "2- How many rows of leaflets hang down when there is a contraction of the first swollen (pulvinus) of a leaf in the mimosa plant?",
        options: ["a-4.", "b-8.", "c- 16.", "d-32."],
        correctAnswer: 2,
        correctAnswerText: "c- 16.",
        explanation: "A typical Mimosa pudica leaf is bipinnately compound, meaning the main leaf stalk (petiole) branches into secondary stalks (pinnae), and each pinna bears rows of leaflets. A common structure involves 4 pairs (8) of pinnae, and each pinna has 2 rows of leaflets. Contraction of the pulvini at the base of the pinnae causes them to droop. If all 8 pinnae droop, and each carries 2 rows of leaflets, that's 8 pinnae * 2 rows/pinna = 16 rows hanging down.<br><br><b>Why this answer is correct:</b> Based on the likely intended structure of a Mimosa leaf with multiple pinnae (e.g., 8), each with 2 rows of leaflets, the collective drooping results in 16 rows hanging down.<br><br><b>Why other options are incorrect:</b> These numbers do not fit the typical structure and movement pattern."
    },
    {
        type: 'essay',
        topic: Topics.PLANT_TROPISM_SENSATION,
        originalNumber: 1,
        question: "Write what the following expressions mean:\na- A biological process that expresses the flowers of some plants opening during the day and closing them at night. (..............)",
        correctAnswerText: "Nyctinasty (or Sleep movements).",
        explanation: "Nyctinasty is a nastic movement (non-directional response to stimulus intensity) linked to daily light/dark cycles."
    },
    {
        type: 'essay',
        topic: Topics.PLANT_TROPISM_SENSATION,
        originalNumber: 2,
        question: "Write what the following expressions mean:\nb- The plant's response to an external stimulus, which is humidity, so plant organs move toward or away from it. (..................)",
        correctAnswerText: "Hydrotropism.",
        explanation: "Hydrotropism is directional growth in response to water or humidity."
    },
    {
        type: 'essay',
        topic: Topics.PLANT_TROPISM_SENSATION,
        originalNumber: 3,
        question: "Give reasons for the following:\nThe effect of auxins varies depending on their location in the plant.",
        correctAnswerText: "The effect of auxins varies because different plant tissues (e.g., stem vs. root) have different sensitivities to auxin concentration. Also, environmental stimuli like light and gravity cause uneven distribution of auxin within an organ, leading to differential growth rates in different regions (e.g., shaded vs. illuminated side, upper vs. lower side).",
        explanation: "Explains that differential tissue sensitivity and uneven distribution cause varied auxin effects."
    },

    // Page 5: Weekly evaluation (4) C
    {
        type: 'mcq',
        topic: Topics.PLANT_TROPISM_SENSATION,
        originalNumber: 1,
        question: "1- The cells of ............ increase their division speed due to the accumulation of auxins in them.",
        options: ["a- the stem facing the light.", "b- the root facing the light.", "c- the upper side of a root placed horizontally.", "d- the underside of a stem placed horizontally."],
        correctAnswer: 3,
        correctAnswerText: "d- the underside of a stem placed horizontally.",
        explanation: "Auxin accumulates on the lower side of a horizontal stem due to gravity. This increased auxin concentration stimulates cell elongation and division (as elongation requires new material production, supported by division) on the lower side, causing faster growth there and upward bending (negative geotropism).<br><br><b>Why this answer is correct:</b> Auxin accumulates on the lower side of a horizontal stem and stimulates growth (including division and elongation) there.<br><br><b>Why other options are incorrect:</b><br>a- The side facing the light has less auxin and grows slower.<br>b- The root facing the light has less auxin; the shaded side (with more auxin) is inhibited.<br>c- The upper side of a horizontal root has less auxin and grows faster, but auxin accumulates on the inhibited lower side."
    },
    {
        type: 'mcq',
        topic: Topics.PLANT_TROPISM_SENSATION,
        originalNumber: 2,
        question: "2- The process of feeling in plants, ...........",
        options: ["a- is limited to some types, such as the mimosa.", "b- decreases as the plant structure becomes more complex.", "c- is connected to the internal and external factors.", "d- the life of the plant does not depend on it."],
        correctAnswer: 2,
        correctAnswerText: "c- is connected to the internal and external factors.",
        explanation: "Plant sensation involves detecting external stimuli (like light, gravity) and responding through internal physiological processes (like hormone signaling, changes in turgor). Therefore, it is inherently linked to both internal and external factors.<br><br><b>Why this answer is correct:</b> Sensation requires perception of external stimuli and triggers internal responses.<br><br><b>Why other options are incorrect:</b><br>a- Sensation (responsiveness to stimuli) occurs in all plants, not just Mimosa.<br>b- Complexity does not necessarily reduce sensation; more complex plants may have more varied responses.<br>d- Sensation is crucial for survival (e.g., finding light, water), so life *does* depend on it."
    },
    {
        type: 'essay',
        topic: Topics.PLANT_TROPISM_SENSATION,
        originalNumber: 1,
        question: "Write what the following expressions mean:\na- A structure found in the mimosa plant and similar to the functioning of the joints in humans (.........)",
        correctAnswerText: "Pulvinous (or Pulvinus).",
        explanation: "Repeats the definition of pulvinus as a joint-like structure in Mimosa."
    },
    {
        type: 'essay',
        topic: Topics.PLANT_TROPISM_SENSATION,
        originalNumber: 2,
        question: "Write what the following expressions mean:\nb- The plant's response to an external stimulus, which is light, so plant organs move towards it or away from it. (....................)",
        correctAnswerText: "Phototropism.",
        explanation: "Repeats the definition of phototropism."
    },
    {
        type: 'essay',
        topic: Topics.PLANT_TROPISM_SENSATION,
        originalNumber: 3,
        question: "3- What happens when the Pulvinous is absent from the leaves of the mimosa plant?",
        correctAnswerText: "Without the pulvini, the mimosa plant would lose its ability to perform rapid touch-sensitive movements and rhythmic sleep movements, as these structures are the motor organs responsible for such movements.",
        explanation: "Restates the functional importance of pulvini for Mimosa movements."
    },

    // Page 6: Fifth Week Class Performance
    {
        type: 'mcq',
        topic: Topics.PLANT_TROPISM_SENSATION,
        originalNumber: 1,
        question: "1- The figure in front of you shows the growing tip of a plant stem and the distribution of auxins in it. Determine the direction in which the sunlight fall on this growing tip?",
        options: ["a- From the right", "c- Vertically", "b- From the left", "d- Horizontally"],
        correctAnswer: 0,
        correctAnswerText: "a- From the right",
        explanation: "The diagram shows auxin accumulating on the left side of the stem tip. In phototropism, auxin moves away from the light source. Therefore, if auxin is concentrated on the left (shaded) side, the light must have been coming from the right (illuminated) side.<br><br><b>Why this answer is correct:</b> Auxin moves to the shaded side. Accumulation on the left indicates light from the right.<br><br><b>Why other options are incorrect:</b><br>b- Light from the left would cause accumulation on the right.<br>c- Vertical light would result in even auxin distribution.<br>d- 'Horizontally' is not specific enough (left or right)."
    },
    {
        type: 'mcq',
        topic: Topics.PLANT_TROPISM_SENSATION,
        originalNumber: 2,
        question: "2- Which of the following occurs when the amount of indole acetic acid increased in the growing tips of the roots of a plant...",
        options: ["a- The elongation of root cells increased.", "c- Elongation of stem cells increased.", "b- Elongation of root cells inhibited.", "d- Elongation of stem cells inhibited."],
        correctAnswer: 2,
        correctAnswerText: "b- Elongation of root cells inhibited.",
        explanation: "Roots are much more sensitive to auxin than stems. Increased concentrations of auxin, which would promote stem elongation, inhibit root cell elongation.<br><br><b>Why this answer is correct:</b> High auxin levels inhibit root elongation.<br><br><b>Why other options are incorrect:</b><br>a- Increased auxin inhibits, not increases, root elongation.<br>c- Increased auxin stimulates stem elongation (up to the optimum).<br>d- Increased auxin stimulates, not inhibits, stem elongation."
    },
    {
        type: 'mcq',
        topic: Topics.PLANT_TROPISM_SENSATION,
        originalNumber: 3,
        question: "3- Which of the following occurs when the root of a growing plant is exposed to irrigation from one direction?",
        options: ["a- the stem bends towards the water.", "b- the stem bends against the direction of the water", "c- the root bends towards the water.", "d- the root bends against the direction of the water."],
        correctAnswer: 2,
        correctAnswerText: "c- the root bends towards the water.",
        explanation: "Roots exhibit positive hydrotropism, growing towards a water source. Stems are not hydrotropic.<br><br><b>Why this answer is correct:</b> Roots grow towards water.<br><br><b>Why other options are incorrect:</b><br>a, b - Stems are not hydrotropic.<br>d- Roots bend towards, not against, water."
    },
    {
        type: 'essay',
        topic: Topics.PLANT_TROPISM_SENSATION,
        originalNumber: 1,
        question: "Write what the following statments mean:\n1- The scientist who conducted experiments to verify Boysen-Jensen's experiments.",
        correctAnswerText: "Frits Went.",
        explanation: "Frits Went extended Boysen-Jensen's work by using agar blocks to demonstrate that the signal transmitted from the coleoptile tip was a chemical substance (later identified as auxin)."
    },
    {
        type: 'essay',
        topic: Topics.PLANT_TROPISM_SENSATION,
        originalNumber: 2,
        question: "Write what the following statments mean:\n2- The plant's response to an external stimulus, which is humidity, so plant organs move toward or away from it.",
        correctAnswerText: "Hydrotropism.",
        explanation: "Definition of hydrotropism."
    },
    {
        type: 'essay',
        topic: Topics.PLANT_TROPISM_SENSATION,
        originalNumber: 1,
        question: "Give reasons for the following:\n1- The root is a positive geotropic.",
        correctAnswerText: "Roots are positively geotropic, growing downwards towards gravity. When a root is horizontal, gravity causes auxin to accumulate on the lower side. This high auxin concentration inhibits elongation of the lower root cells, while the upper cells elongate more, causing the root to bend down.",
        explanation: "Explains the directional growth towards gravity and the auxin-mediated mechanism."
    },
    {
        type: 'essay',
        topic: Topics.PLANT_TROPISM_SENSATION,
        originalNumber: 2,
        question: "Give reasons for the following:\n2- The effect of auxins varies depending on their location in the plant.",
        correctAnswerText: "Auxins have different effects (stimulatory or inhibitory) and optimal concentrations depending on the specific plant organ (e.g., root vs. stem) and the region within the organ. Environmental stimuli also cause uneven distribution of auxin, leading to differential growth rates in different locations.",
        explanation: "Highlights differential tissue sensitivity and uneven distribution as reasons for varied auxin effects."
    },
    {
        type: 'essay',
        topic: Topics.PLANT_TROPISM_SENSATION,
        originalNumber: 3,
        question: "Give reasons for the following:\n3- The growing stem is not affected when the plant is placed in an upright position.",
        correctAnswerText: "In a vertical position, gravity and light are typically symmetrical relative to the stem axis. This leads to a uniform distribution of auxin in the stem tip. Uniform auxin concentration causes uniform cell elongation on all sides of the stem, resulting in straight upward growth without bending.",
        explanation: "Explains that symmetrical stimuli lead to symmetrical auxin distribution and thus straight growth."
    },
    {
        type: 'essay',
        topic: Topics.PLANT_TROPISM_SENSATION,
        originalNumber: 1,
        question: "The figure in front of you contains a mistake. Identify the mistake with an explanation:\n1- The mistake:\n2- The explanation:",
        correctAnswerText: "1- The mistake: The stem is shown bending horizontally to the right despite the sun being depicted directly overhead (indicating vertical light).\n2- The explanation: Vertical light (from directly above) should cause the stem, which is positively phototropic, to grow straight upwards, not bend horizontally. The bending shown is indicative of unilateral light from the right.",
        explanation: "Identifies and explains the inconsistency between the depicted light source and the resulting stem growth direction."
    },

    // Page 7: Fifth Week Home performances
    {
        type: 'essay',
        topic: Topics.PLANT_TROPISM_SENSATION,
        originalNumber: 1,
        question: "1- Define the following:\na- Auxins.\nb- Geotropism.",
        correctAnswerText: "a- Auxins: A group of plant hormones primarily involved in cell elongation and differentiation, produced mainly in growing tips, and crucial for regulating growth responses like tropisms.\nb- Geotropism (or Gravitropism): The growth of a plant organ in response to the force of gravity.",
        explanation: "Provides standard definitions for auxins and geotropism."
    },
    {
        type: 'essay',
        topic: Topics.PLANT_TROPISM_SENSATION,
        originalNumber: 2,
        question: "2- Give reasons for the following:\na- The root is a positive hydrotropism.\nb- Root cells far from light do not elongate despite the increase in the percentage of auxins in them.",
        correctAnswerText: "a- Roots are positively hydrotropic, growing towards water, because water is essential for plant survival and physiological processes. This response ensures the root system can locate and absorb necessary moisture from the soil.\nb- Root cells are highly sensitive to auxin. While auxin increases cell elongation in stems, concentrations that are relatively high (as implied by 'increase in the percentage') are inhibitory to root cell elongation. Therefore, even if auxin increases, if it is above the optimal level for roots, elongation will be inhibited.",
        explanation: "Explains the adaptive value of hydrotropism and reiterates the concentration-dependent and inhibitory effect of high auxin on root elongation."
    },
    {
        type: 'essay',
        topic: Topics.PLANT_TROPISM_SENSATION,
        originalNumber: 3,
        question: "3- Explain the relationship between each two:\na- The geotropism of the root and the percentage of auxins in its growing apex\nb- The direction of sunlight to which the plant is exposed and the direction of stem growth",
        correctAnswerText: "a- The positive geotropism of the root is caused by the effect of gravity on auxin distribution in the root apex. Gravity causes auxin to accumulate on the lower side of a horizontal root apex. The root cells are very sensitive to auxin, so this increased concentration on the lower side inhibits cell elongation, while the cells on the upper side (with less auxin) elongate more, causing the root to bend downwards towards gravity.\nb- The direction of sunlight determines the direction of stem growth through positive phototropism. Unilateral light causes auxin to move to the shaded side of the stem. This higher auxin concentration on the shaded side stimulates stem cell elongation more than on the illuminated side, causing the stem to bend towards the light source.",
        explanation: "Details how uneven auxin distribution, influenced by gravity (roots) or light (stems), leads to directional growth responses due to differential cell elongation."
    },
    {
        type: 'essay',
        topic: Topics.PLANT_TROPISM_SENSATION,
        originalNumber: 4,
        question: "4- What happens when?:\nThe growing tip in front of you was exposed to moisture from one side. Determine the effect of this on the growth of the developing growing tip if it is located in:\n1- The root.\n2- The stem.",
        correctAnswerText: "1- The root: The root tip will grow towards the source of moisture, exhibiting positive hydrotropism.\n2- The stem: The stem tip will not respond directionally to the unilateral moisture stimulus; its growth direction will be determined by phototropism and geotropism.",
        explanation: "Describes the hydrotropic response of roots but not stems."
    },
    {
        type: 'essay',
        topic: Topics.PLANT_TROPISM_SENSATION,
        originalNumber: 5,
        question: "5- The figure in front of you contains a mistake. Identify the mistake with an explanation:\n1- The mistake.\n2- The explanation:",
        correctAnswerText: "1- The mistake: The roots are shown growing upwards, out of the pot.\n2- The explanation: Roots exhibit positive geotropism, meaning they grow downwards in response to gravity. They should be depicted growing into the soil/pot, not upwards.",
        explanation: "Identifies and explains the incorrect depiction of root growth direction based on geotropism."
    },

    // Page 8: Weekly evaluation (5) A
    {
        type: 'mcq',
        topic: Topics.PLANT_TROPISM_SENSATION,
        originalNumber: 1,
        question: "1- It happens in phototropism and geotropism to roots in the horizontal position.",
        options: ["a- auxins act in the same direction as the effect.", "b- auxins move away from the effector.", "c- auxins stop cells from growing.", "d- auxins stimulate cells to grow."],
        correctAnswer: 2,
        correctAnswerText: "c- auxins stop cells from growing.",
        explanation: "In roots, auxin concentrations that accumulate on the shaded or lower side inhibit (effectively 'stop' relative to the other side's growth) cell elongation. This differential inhibition is key to root bending in tropisms.<br><br><b>Why this answer is correct:</b> Auxin accumulation inhibits root cell elongation, causing bending.<br><br><b>Why other options are incorrect:</b><br>a- The effect (bending towards the accumulation side) is opposite to the effect on cell elongation (inhibition on the accumulation side).<br>b- Auxins redistribute but don't move away from the stimulus source in this way.<br>d- Auxins stimulate stem cells but inhibit root cells at these concentrations."
    },
    {
        type: 'mcq',
        topic: Topics.PLANT_TROPISM_SENSATION,
        originalNumber: 2,
        question: "2- Which of the following statements agree with the nature of the action of auxins?",
        options: ["a- Whenever its concentration in the root cells increases, it stimulates their elongation.", "b- Whenever its concentration in the stem cells decreases, it inhibits their elongation..", "c- It is not affected by external influences in all circumstances.", "d- It flows from top to bottom in the horizontal position of the gesture."],
        correctAnswer: 1,
        correctAnswerText: "b- Whenever its concentration in the stem cells decreases, it inhibits their elongation..",
        explanation: "Auxin promotes stem elongation. Therefore, a lower concentration of auxin results in less promotion, or relative inhibition, of elongation compared to a higher concentration.<br><br><b>Why this answer is correct:</b> Stem elongation rate is directly correlated with auxin concentration (up to an optimum). Less auxin means less elongation.<br><br><b>Why other options are incorrect:</b><br>a- Increased auxin inhibits root elongation (at concentrations for tropism).<br>c- Auxin distribution *is* affected by external factors (light, gravity).<br>d- While auxin flows basipetally (top to bottom), in a horizontal stem, lateral transport due to gravity causes accumulation on the lower side, which is not simply flowing top to bottom."
    },
    {
        type: 'essay',
        topic: Topics.PLANT_TROPISM_SENSATION,
        originalNumber: 1,
        question: "Write what the following expressions mean:\n1- Chemicals substances secreted by the growing tip of the plant and greatly affected by external conditions.",
        correctAnswerText: "Auxins (or Plant hormones).",
        explanation: "Auxins are produced in growing tips and their distribution is influenced by environmental stimuli."
    },
    {
        type: 'essay',
        topic: Topics.PLANT_TROPISM_SENSATION,
        originalNumber: 2,
        question: "Write what the following expressions mean:\n2- The response of the growing plant to an external stimulus, which is Earth's gravity, so plant organs move toward or away from it.",
        correctAnswerText: "Geotropism (or Gravitropism).",
        explanation: "Definition of geotropism."
    },
    {
        type: 'essay',
        topic: Topics.PLANT_TROPISM_SENSATION,
        originalNumber: 1,
        question: "Give reasons for the following:\n1- When the plant is in the vertical (natural) position, the stem grows straight up and the root grows down.",
        correctAnswerText: "In a vertical plant, gravity acts uniformly on all sides of the stem and root tips. Assuming uniform light from above, auxin distribution is symmetrical in both tips. This symmetrical distribution results in uniform cell elongation in the stem (growing straight up) and uniform, but appropriate (non-inhibitory level for the root's inherent downward growth), elongation in the root (growing straight down).",
        explanation: "Explains that symmetrical stimuli lead to symmetrical auxin distribution and resulting straight, vertical growth according to each organ's natural response."
    },

    // Page 9: Weekly evaluation (5) B
    {
        type: 'mcq',
        topic: Topics.PLANT_TROPISM_SENSATION,
        originalNumber: 1,
        question: "1- Cells whose division rate increases due to the accumulation of auxin in them are...",
        options: ["a- the side of the stem facing the light.", "b- the side of the root facing the light.", "c- the upper side of a horizontally placed root.", "d- the underside of a stem placed horizontally."],
        correctAnswer: 3,
        correctAnswerText: "d- the underside of a stem placed horizontally.",
        explanation: "Auxin accumulation on the lower side of a horizontal stem stimulates growth (cell elongation primarily, but often associated with increased metabolic activity that supports division) on that side, causing it to bend upwards.<br><br><b>Why this answer is correct:</b> Auxin accumulates on the lower side of a horizontal stem and stimulates growth.<br><br><b>Why other options are incorrect:</b><br>a- Side facing light has less auxin, slower growth.<br>b- Side of root facing light has less auxin.<br>c- Upper side of horizontal root has less auxin (than lower side) and grows more, but the accumulation is on the inhibited lower side."
    },
    {
        type: 'mcq',
        topic: Topics.PLANT_TROPISM_SENSATION,
        originalNumber: 2,
        question: "2- Which of the following statements is incorrect?",
        options: ["a- The stem is positive for phototropism.", "b- The stem is negative in geotropism.", "c- The root is negative for phototropism.", "d- The root has positive geotropism"],
        correctAnswer: null,
        correctAnswerText: "Question is flawed, all statements are correct.",
        explanation: "All listed statements are biologically accurate:\na) Stems grow towards light (positive phototropism).\nb) Stems grow away from gravity (negative geotropism).\nc) Roots grow away from light (negative phototropism).\nd) Roots grow towards gravity (positive geotropism).\nSince all options are correct, there is no incorrect statement among the choices."
    },
    {
        type: 'essay',
        topic: Topics.PLANT_TROPISM_SENSATION,
        originalNumber: 1,
        question: "Write what the following expressions mean:\n1- The plant's response to an external stimulus, which is humidity, so plant organs move toward or away from it.",
        correctAnswerText: "Hydrotropism.",
        explanation: "Definition of hydrotropism."
    },
    {
        type: 'essay',
        topic: Topics.PLANT_TROPISM_SENSATION,
        originalNumber: 2,
        question: "Write what the following expressions mean:\n2- The tip of the stem bends upward against the Earth's gravity when the plant is in a horizontal position.",
        correctAnswerText: "Negative geotropism of the stem.",
        explanation: "Describes the manifestation of negative geotropism in a horizontal stem."
    },
    {
        type: 'essay',
        topic: Topics.PLANT_TROPISM_SENSATION,
        originalNumber: 3,
        question: "Give reasons for the following:\nThe root is a positive hydrotropic.",
        correctAnswerText: "Roots are positively hydrotropic because growing towards water allows the plant to absorb essential resources for survival and growth. This response is crucial for plant survival, especially in dry conditions.",
        explanation: "Explains the adaptive benefit of positive hydrotropism in roots."
    },

    // Page 10: Weekly evaluation (5) C
    {
        type: 'mcq',
        topic: Topics.PLANT_TROPISM_SENSATION,
        originalNumber: 1,
        question: "1- Which of the following statements does not apply to auxins?",
        options: ["a- It is greatly affected by environmental factors.", "b- It cannot enter during the blocks of agar.", "c- It is used by humans to increase the rate of plant growth.", "d- Chemicals substances secreted by plant buds."],
        correctAnswer: 1,
        correctAnswerText: "b- It cannot enter during the blocks of agar.",
        explanation: "Experiments, like Went's, proved that auxin can readily diffuse through agar blocks. Therefore, the statement that it 'cannot enter' agar blocks is false.<br><br><b>Why this answer is correct:</b> Auxin can diffuse through agar blocks.<br><br><b>Why other options are incorrect:</b><br>a- Auxin distribution is affected by light and gravity.<br>c- Synthetic auxins are used in agriculture to promote growth (e.g., rooting, fruit development).<br>d- Auxins are produced in actively growing regions like buds and tips."
    },
    {
        type: 'mcq',
        topic: Topics.PLANT_TROPISM_SENSATION,
        originalNumber: 2,
        question: "2- Which of the following cases has a tropism opposite to the direction of auxin accumulation?",
        options: ["a- A stem placed horizontally and another vertically exposed to light from one side.", "b- A root placed horizontally and another vertically exposed to water from one side.", "c- A stem and root in an upright position exposed to light from one side.", "d- A stem and root in a horizontal position."],
        correctAnswer: 0,
        correctAnswerText: "a- A stem placed horizontally and another vertically exposed to light from one side.",
        explanation: "Tropisms where bending is *opposite* to auxin accumulation occur in stems. Auxin accumulates on the lower side of a horizontal stem and the shaded side of a vertical stem exposed to unilateral light. In both cases, the stem bends *away* from the accumulation side (upwards or towards the light). Root tropisms (geotropism, phototropism, hydrotropism) result in bending *towards* the side of auxin accumulation (where elongation is inhibited). Option (a) lists two stem tropism scenarios, both of which result in bending opposite to auxin accumulation.<br><br><b>Why this answer is correct:</b> Stem geotropism (horizontal) and stem phototropism (vertical + light) both involve bending away from the side of auxin accumulation.<br><br><b>Why other options are incorrect:</b><br>b- Root tropisms involve bending towards the side of accumulation.<br>c- Includes root phototropism (bending towards accumulation).<br>d- Includes root geotropism (bending towards accumulation)."
    },
    {
        type: 'essay',
        topic: Topics.PLANT_TROPISM_SENSATION,
        originalNumber: 1,
        question: "Write what the following expressions mean:\n1- The root tip bends downward with gravity when the plant is in a horizontal position.",
        correctAnswerText: "Positive geotropism of the root.",
        explanation: "Describes positive geotropism in a horizontal root."
    },
    {
        type: 'essay',
        topic: Topics.PLANT_TROPISM_SENSATION,
        originalNumber: 2,
        question: "Write what the following expressions mean:\n2- The response of the growing plant to an external stimulus, which is Earth's gravity, so plant organs move toward or away from it.",
        correctAnswerText: "Geotropism (or Gravitropism).",
        explanation: "Definition of geotropism."
    },
    {
        type: 'essay',
        topic: Topics.PLANT_TROPISM_SENSATION,
        originalNumber: 3,
        question: "Give reasons for the following:\nStems are negative in geotropism.",
        correctAnswerText: "Stems are negatively geotropic, growing upwards away from gravity. When a stem is horizontal, gravity causes auxin to accumulate on the lower side. This higher auxin concentration stimulates the lower cells to elongate more rapidly than the upper cells, causing the stem to bend upwards against the gravitational pull.",
        explanation: "Explains the directional growth away from gravity and the auxin-mediated mechanism of differential stimulation."
    },

    // Page 11: Sixth Week Class Performance
    {
        type: 'mcq',
        topic: Topics.NERVOUS_SYSTEM_STRUCTURE,
        originalNumber: 1,
        question: "1- The cells that transmit nerve impulses from the peripheral nervous system to the central nervous system are ...........",
        options: ["a- Sensory neurons", "c- Connector neurons", "b- Motor neurons", "d- Neuroglia"],
        correctAnswer: 0,
        correctAnswerText: "a- Sensory neurons",
        explanation: "Sensory neurons (afferent) carry signals from receptors in the PNS towards the CNS.<br><br><b>Why this answer is correct:</b> Sensory neurons transmit impulses from PNS to CNS.<br><br><b>Why other options are incorrect:</b><br>b- Motor neurons transmit impulses from CNS to PNS effectors.<br>c- Connector neurons (interneurons) are entirely within the CNS.<br>d- Neuroglia support neurons but do not transmit impulses."
    },
    {
        type: 'mcq',
        topic: Topics.NERVOUS_SYSTEM_STRUCTURE,
        originalNumber: 2,
        question: "2- The part of the cell that transmits the nerve impulse away from the cell body is is.....",
        options: ["a- Schwann cells", "c- Nerve ending", "b- dendrites", "d- Ranvier nodes"],
        correctAnswer: 2,
        correctAnswerText: "c- Nerve ending",
        explanation: "The axon transmits the impulse away from the cell body. The nerve ending is the terminal part of the axon responsible for transmitting the signal to the next cell across the synapse.<br><br><b>Why this answer is correct:</b> Nerve endings are the terminal points of the axon that transmit the impulse away from the cell body to other cells.<br><br><b>Why other options are incorrect:</b><br>a- Schwann cells form myelin.<br>b- Dendrites transmit impulses towards the cell body.<br>d- Nodes of Ranvier are gaps in myelin important for speed, not the part transmitting away."
    },
    {
        type: 'mcq',
        topic: Topics.NERVOUS_SYSTEM_PHYSIOLOGY,
        originalNumber: 3,
        question: "3- The absence of Schwann cells from the nerve axons leads to ...................",
        options: ["a- increased speed of the nerve impulse", "b- stopped speed of the nerve impulse", "c- non-division of nerve cells", "d- decreased speed of the nerve impulse"],
        correctAnswer: 3,
        correctAnswerText: "d- decreased speed of the nerve impulse",
        explanation: "Schwann cells form the myelin sheath, which enables fast saltatory conduction. Without myelin, conduction is slower (continuous conduction).<br><br><b>Why this answer is correct:</b> Myelin increases speed, so its absence decreases speed.<br><br><b>Why other options are incorrect:</b><br>a- Absence of myelin decreases speed.<br>b- Conduction still occurs, just slower.<br>c- Non-division of neurons is due to lack of centrosome."
    },
    {
        type: 'essay',
        topic: Topics.NERVOUS_SYSTEM_STRUCTURE,
        originalNumber: 1,
        question: "Write what the following statments mean:\n1- Many short processes, exit from the body of the nerve cell to increase the surface of the nerve area.",
        correctAnswerText: "Dendrites.",
        explanation: "Dendrites are branched processes that receive signals and increase the receptive surface area."
    },
    {
        type: 'essay',
        topic: Topics.NERVOUS_SYSTEM_STRUCTURE,
        originalNumber: 2,
        question: "Write what the following statments mean:\n2- Cells that transmit nerve impulses from the central nervous system to the response organs.",
        correctAnswerText: "Motor neurons.",
        explanation: "Motor neurons (efferent) carry signals from the CNS to effectors."
    },
    {
        type: 'essay',
        topic: Topics.NERVOUS_SYSTEM_STRUCTURE,
        originalNumber: 3,
        question: "Write what the following statments mean:\n3- A long cytoplasmic extension that may reach more than a meter and end with nerve endings.",
        correctAnswerText: "Axon.",
        explanation: "The axon is the long process that transmits impulses away from the cell body."
    },
    {
        type: 'essay',
        topic: Topics.NERVOUS_SYSTEM_STRUCTURE,
        originalNumber: 1,
        question: "What happens when:\n1- The absence of the connector neurons from the nervous tissue.",
        correctAnswerText: "The ability to integrate information between sensory and motor neurons would be lost or severely impaired, affecting complex reflexes and information processing within the CNS.",
        explanation: "Explains the role of interneurons in integration and complex pathways."
    },
    {
        type: 'essay',
        topic: Topics.NERVOUS_SYSTEM_PHYSIOLOGY,
        originalNumber: 2,
        question: "What happens when:\n2- A cutting occurs in the cell axon at the nodes of Ranvier.",
        correctAnswerText: "The conduction of the nerve impulse would be blocked. Nodes of Ranvier are essential for renewing the action potential during saltatory conduction in myelinated axons. A cut here breaks the axonal continuity and prevents impulse propagation.",
        explanation: "Explains the importance of nodes for saltatory conduction and the consequence of disruption."
    },
    {
        type: 'essay',
        topic: Topics.NERVOUS_SYSTEM_STRUCTURE,
        originalNumber: 1,
        question: "Mention the function of each of the following:\n1- The axon of the nerve cell.\n2- Nissil granules in the body of the nerve cell.",
        correctAnswerText: "1- Transmits nerve impulses away from the cell body.\n2- Sites of protein synthesis, crucial for neuronal metabolism and function.",
        explanation: "States the primary functions of the axon and Nissl granules (RER and ribosomes)."
    },

    // Page 12: Sixth Week Home performances
    {
        type: 'essay',
        topic: Topics.NERVOUS_SYSTEM_STRUCTURE,
        originalNumber: 1,
        question: "1- Define the following:\na- Myelin sheath\nb- Neurolemma.",
        correctAnswerText: "a- Myelin sheath: An insulating fatty layer around axons formed by glial cells (Schwann cells in PNS, oligodendrocytes in CNS), increasing impulse speed.\nb- Neurolemma: The outer membrane of a Schwann cell surrounding a myelinated axon in the PNS. It is important for regeneration after injury.",
        explanation: "Provides standard definitions for myelin sheath and neurolemma."
    },
    {
        type: 'essay',
        topic: Topics.NERVOUS_SYSTEM_STRUCTURE,
        originalNumber: 2,
        question: "2- Give reasons for the following:\na- Many short process emerge from the cell body (dendrites).\nb- Axons covered with myelin sheath transmit nerve impulses faster than nonmyelinated axons.\nc- Connector neurons (intermediate) are called by this name.",
        correctAnswerText: "a- Dendrites increase the surface area of the neuron, allowing it to receive signals from a large number of other neurons.\nb- Myelin sheath allows for saltatory conduction (jumping between Nodes of Ranvier), which is much faster than continuous conduction in unmyelinated axons.\nc- Connector neurons are located between sensory and motor neurons within the CNS and act as intermediates, integrating information and relaying signals.",
        explanation: "Explains the functional reasons for dendrites' structure, myelination's effect on speed, and the role reflected in 'connector neuron'."
    },
    {
        type: 'essay',
        topic: Topics.NERVOUS_SYSTEM_STRUCTURE,
        originalNumber: 3,
        question: "3- Explain the following:\na- Nerve impulses always pass in one direction.\nb- The structure of the nerve cell body.",
        correctAnswerText: "a- Due to the unidirectional nature of synaptic transmission, where neurotransmitters are released from the axon terminal of the presynaptic neuron and received by dendrites/cell body of the postsynaptic neuron, signals flow in one direction along a neural pathway.\nb- The cell body (soma) contains the nucleus and most organelles (RER/Nissl granules, Golgi, mitochondria). It is the metabolic center and integrates incoming signals before generating an action potential.",
        explanation: "Explains the basis of unidirectional impulse flow (synapses) and describes the key components of the neuron cell body."
    },
    {
        type: 'essay',
        topic: Topics.NERVOUS_SYSTEM_STRUCTURE,
        originalNumber: 4,
        question: "4- What are the consequences of :\na- The absence of a central body (centrosome) in the nerve cell.\nb- The destruction of Schwann cells.",
        correctAnswerText: "a- Loss of ability for cell division (mitosis). Mature neurons cannot replicate.\nb- Loss of myelination in the PNS, leading to significantly slowed or blocked nerve impulse transmission and neurological dysfunction.",
        explanation: "States the consequences of lacking centrosomes (no division) and losing Schwann cells (demyelination)."
    },
    {
        type: 'essay',
        topic: Topics.NERVOUS_SYSTEM_STRUCTURE,
        originalNumber: 5,
        question: "5- Compare between sensory neurons and motor neurons.\n\nsensory neurons\nmotor neurons",
        correctAnswerText: "Sensory Neurons: Carry impulses from receptors to CNS. Typically have cell bodies in ganglia outside CNS. Afferent.\nMotor Neurons: Carry impulses from CNS to effectors (muscles/glands). Typically have cell bodies in CNS or autonomic ganglia. Efferent.",
        explanation: "Compares based on direction of signal, cell body location, and function."
    },

    // Page 13: Weekly evaluation (6) A
    {
        type: 'mcq',
        topic: Topics.NERVOUS_SYSTEM_STRUCTURE,
        originalNumber: 1,
        question: "1- Both ..... and ..... receive nerve impulses in nerve cells.",
        options: ["a- the cell axon and nerve endings.", "b- the cell body and dendrites.", "c- dendrites and nerve endings.", "d- the cell body and nerve endings."],
        correctAnswer: 1,
        correctAnswerText: "b- the cell body and dendrites.",
        explanation: "Dendrites and the cell body are the primary sites for receiving synaptic input from other neurons.<br><br><b>Why this answer is correct:</b> Dendrites and the cell body receive signals.<br><br><b>Why other options are incorrect:</b><br>a- Axon transmits away; nerve endings transmit to other cells.<br>c- Nerve endings transmit, don't receive signals in this context.<br>d- Nerve endings transmit, don't receive signals in this context."
    },
    {
        type: 'mcq',
        topic: Topics.NERVOUS_SYSTEM_STRUCTURE,
        originalNumber: 2,
        question: "2- The ........ transmits nerve impulses away from the cell body through synapses.",
        options: ["a- axons.", "b- dendrites.", "c- the cell body.", "d- Nissil granules."],
        correctAnswer: 0,
        correctAnswerText: "a- axons.",
        explanation: "The axon carries the action potential away from the cell body to the synapse.<br><br><b>Why this answer is correct:</b> The axon is the output pathway for the impulse.<br><br><b>Why other options are incorrect:</b><br>b- Dendrites receive signals towards the cell body.<br>c- Cell body integrates signals.<br>d- Nissl granules are for protein synthesis."
    },
    {
        type: 'essay',
        topic: Topics.NERVOUS_SYSTEM_STRUCTURE,
        originalNumber: 1,
        question: "Write what the following expressions mean:\n1- Cells that transmit nerve impulses from the receptor organs to the central nervous system.",
        correctAnswerText: "Sensory neurons.",
        explanation: "Sensory neurons carry information from sensory receptors to the CNS."
    },
    {
        type: 'essay',
        topic: Topics.NERVOUS_SYSTEM_STRUCTURE,
        originalNumber: 2,
        question: "Write what the following expressions mean:\n2- Fine granules found only in the nerve cell, and are believed to be stored food that the cell consumes during its activity.",
        correctAnswerText: "Nissl granules.",
        explanation: "Describes Nissl granules, which are involved in protein synthesis to support cell activity."
    },
    {
        type: 'essay',
        topic: Topics.NERVOUS_SYSTEM_STRUCTURE,
        originalNumber: 3,
        question: "Give reasons for the following:\nNerve cells do not have the ability to divide.",
        correctAnswerText: "Mature nerve cells lack a centrosome (central body), which is required for initiating and organizing the process of cell division (mitosis).",
        explanation: "Explains the absence of centrosome as the reason for inability to divide."
    },

    // Page 14: Weekly evaluation (6) B
    {
        type: 'mcq',
        topic: Topics.NERVOUS_SYSTEM_STRUCTURE,
        originalNumber: 1,
        question: "1- The ............ is fine granules found only in the nerve cell, and are believed to be stored food consumed by the cell during its activity.",
        options: ["a- Nissil granules.", "b- Schwann cells.", "c- Neurolemma.", "d- Cell body."],
        correctAnswer: 0,
        correctAnswerText: "a- Nissil granules.",
        explanation: "Matches the description provided for Nissl granules, despite the 'stored food' phrasing.<br><br><b>Why this answer is correct:</b> The description corresponds to Nissl granules.<br><br><b>Why other options are incorrect:</b><br>b- Schwann cells are glial cells.<br>c- Neurolemma is a membrane.<br>d- Cell body is the main part of the neuron."
    },
    {
        type: 'mcq',
        topic: Topics.NERVOUS_SYSTEM_STRUCTURE,
        originalNumber: 2,
        question: "2- The myelin sheath is interrupted at certain points of constrictions called ...",
        options: ["a- Nodes of Ranvier.", "b- Neurolemma.", "c- Dendrites.", "D- Nissil granules."],
        correctAnswer: 0,
        correctAnswerText: "a- Nodes of Ranvier.",
        explanation: "Nodes of Ranvier are the gaps in the myelin sheath along the axon.<br><br><b>Why this answer is correct:</b> Nodes of Ranvier are interruptions in myelin.<br><br><b>Why other options are incorrect:</b><br>b- Neurolemma is an outer membrane.<br>c- Dendrites receive signals.<br>d- Nissl granules are in the cell body."
    },
    {
        type: 'essay',
        topic: Topics.NERVOUS_SYSTEM_STRUCTURE,
        originalNumber: 1,
        question: "Write what the following expressions mean:\n1- Cells that transmit nerve impulses from the central nervous system to the response organs.",
        correctAnswerText: "Motor neurons.",
        explanation: "Motor neurons carry signals from CNS to effectors."
    },
    {
        type: 'essay',
        topic: Topics.NERVOUS_SYSTEM_STRUCTURE,
        originalNumber: 2,
        question: "Write what the following expressions mean:\n2- A thin layer that covers the myelin sheath from the outside.",
        correctAnswerText: "Neurolemma.",
        explanation: "Neurolemma is the outer covering of Schwann cells surrounding myelinated axons in the PNS."
    },
    {
        type: 'essay',
        topic: Topics.NERVOUS_SYSTEM_STRUCTURE,
        originalNumber: 3,
        question: "Give reasons for the following:\nThe body of the nerve cell has many dendrites.",
        correctAnswerText: "To increase the surface area available for receiving synaptic input from other neurons, allowing the neuron to integrate signals from multiple sources.",
        explanation: "Explains that dendrites' structure maximizes signal reception."
    },

    // Page 15: Weekly evaluation (6) C
    {
        type: 'mcq',
        topic: Topics.NERVOUS_SYSTEM_STRUCTURE,
        originalNumber: 1,
        question: "1- A long cytoplasmic extension that may reach more than a meter is .....",
        options: ["a- Dendrites.", "b- Axon.", "c- Nerve fibers.", "d- Nissil granules."],
        correctAnswer: 1,
        correctAnswerText: "b- Axon.",
        explanation: "The axon is the typically long projection of a neuron.<br><br><b>Why this answer is correct:</b> Axons can be very long.<br><br><b>Why other options are incorrect:</b><br>a- Dendrites are short.<br>c- A nerve fiber is an axon, but axon is the specific cell part.<br>d- Nissl granules are within the cell body."
    },
    {
        type: 'mcq',
        topic: Topics.NERVOUS_SYSTEM_STRUCTURE,
        originalNumber: 2,
        question: "2- Terminal arbonizations transmit nerve impulses away from the cell body through...... .",
        options: ["a- Synapse.", "b- Dendrites.", "c- Cell body.", "d- Nissil granules."],
        correctAnswer: 0,
        correctAnswerText: "a- Synapse.",
        explanation: "Terminal arborizations (nerve endings) transmit signals across the synapse to the next cell.<br><br><b>Why this answer is correct:</b> Transmission to the next cell occurs at the synapse.<br><br><b>Why other options are incorrect:</b><br>b- Dendrites receive signals.<br>c- Cell body processes signals.<br>d- Nissl granules are in the cell body."
    },
    {
        type: 'essay',
        topic: Topics.NERVOUS_SYSTEM_STRUCTURE,
        originalNumber: 1,
        question: "Write what the following expressions mean:\n1- Cells that are the link between sensory cells and motor cells.",
        correctAnswerText: "Connector neurons (or Interneurons).",
        explanation: "Interneurons connect sensory and motor pathways."
    },
    {
        type: 'essay',
        topic: Topics.NERVOUS_SYSTEM_STRUCTURE,
        originalNumber: 2,
        question: "Write what the following expressions mean:\n2- Tiny granules found only in the nerve cell, and it is believed that they are stored food that the cell consumes during its activity.",
        correctAnswerText: "Nissl granules.",
        explanation: "Repeats the description of Nissl granules."
    },
    {
        type: 'essay',
        topic: Topics.NERVOUS_SYSTEM_PHYSIOLOGY,
        originalNumber: 3,
        question: "Give reasons for the following:\nThe nerve impulses always pass in one direction.",
        correctAnswerText: "Due to the specialization of the synapse, where neurotransmitters are released from the presynaptic axon terminal and bind to receptors on the postsynaptic membrane, ensuring unidirectional signal flow across the junction.",
        explanation: "Explains that synaptic specialization dictates unidirectional impulse flow."
    },

    // Page 16: Seventh Week Class Performance
    {
        type: 'mcq',
        topic: Topics.NERVOUS_SYSTEM_STRUCTURE,
        originalNumber: 1,
        question: "1- Cells that comprise nervous tissue and are characterized by their ability to divide are........",
        options: ["a- sensory neurons", "c- conducting neurons", "b- motor neurons", "d- neuroglia cells"],
        correctAnswer: 3,
        correctAnswerText: "d- neuroglia cells",
        explanation: "Neuroglia retain the ability to divide, unlike mature neurons.<br><br><b>Why this answer is correct:</b> Neuroglia are capable of division.<br><br><b>Why other options are incorrect:</b><br>a, b, c - Neurons typically do not divide."
    },
    {
        type: 'mcq',
        topic: Topics.NERVOUS_SYSTEM_STRUCTURE,
        originalNumber: 2,
        question: "2. The ................... is composed of a group of nerve bundles, each of which consists of a group of nerve fibers.",
        options: ["a- Schwann cells", "c- nerve ending", "b- dendritic appendage", "d- nerve"],
        correctAnswer: 3,
        correctAnswerText: "d- nerve",
        explanation: "A nerve is a structure containing multiple bundles (fascicles) of nerve fibers (axons).<br><br><b>Why this answer is correct:</b> Definition of a nerve.<br><br><b>Why other options are incorrect:</b><br>a- Schwann cells form myelin.<br>b- Dendritic appendage is part of a neuron.<br>c- Nerve ending is part of the axon."
    },
    {
        type: 'mcq',
        topic: Topics.NERVOUS_SYSTEM_PHYSIOLOGY,
        originalNumber: 3,
        question: "3- The message transmitted by nerves from the sensory organs to the central nervous system and from there to the response organs is the .................",
        options: ["a- nerve", "c- nerve impulse", "b- nerve ending", "d- neuroglia"],
        correctAnswer: 2,
        correctAnswerText: "c- nerve impulse",
        explanation: "The electrical signal carrying information is the nerve impulse.<br><br><b>Why this answer is correct:</b> Nerve impulse is the signal.<br><br><b>Why other options are incorrect:</b><br>a- Nerve is the structure.<br>b- Nerve ending is location of transmission to next cell.<br>d- Neuroglia are support cells."
    },
    {
        type: 'mcq',
        topic: Topics.NERVOUS_SYSTEM_PHYSIOLOGY,
        originalNumber: 4,
        question: "4. The concentration of sodium ions (Na+) outside the cell is ............ times higher than its concentration inside the cell.",
        options: ["a-10:15", "b-5:9", "c- 15:20", "d-20:30"],
        correctAnswer: null,
        correctAnswerText: "Question is flawed, options are incorrect representation of the multiplier.",
        explanation: "The concentration of Na+ is typically 10-15 times higher outside than inside. The options are presented as ranges of ratios, which is confusing. The intended answer likely falls within the 10-15 range, but the formatting of options is incorrect.",
    },
    {
        type: 'essay',
        topic: Topics.NERVOUS_SYSTEM_PHYSIOLOGY,
        originalNumber: 1,
        question: "Write what the following expressions mean:\n1- The resting state of a nerve cell, when its outer surface is positive and its inner surface is negative.",
        correctAnswerText: "Polarization.",
        explanation: "Definition of polarization (resting state)."
    },
    {
        type: 'essay',
        topic: Topics.NERVOUS_SYSTEM_STRUCTURE,
        originalNumber: 2,
        question: "Write what the following expressions mean:\n2- A sheath of connective tissue supplied with blood vessels that encloses the bundles of nerve fibers.",
        correctAnswerText: "Perineurium (or Epineurium).",
        explanation: "Connective tissue sheath surrounding nerve fascicles (perineurium) or the entire nerve (epineurium)."
    },
    {
        type: 'essay',
        topic: Topics.NERVOUS_SYSTEM_PHYSIOLOGY,
        originalNumber: 3,
        question: "Write what the following expressions mean:\n3- Ions its concentration inside the nerve cell is 30 times greater than its concentration in the extracellular fluid surrounding the cell.",
        correctAnswerText: "Potassium ions (K+).",
        explanation: "K+ is highly concentrated inside the cell."
    },
    {
        type: 'essay',
        topic: Topics.NERVOUS_SYSTEM_PHYSIOLOGY,
        originalNumber: 1,
        question: "Give reason for each of the following:\n1- The concentration of negative ions inside the nerve cell is much higher than its concentration outside.",
        correctAnswerText: "Due to the presence of large, non-diffusible, negatively charged proteins and organic anions synthesized and trapped inside the cell.",
        explanation: "Explains the source of the internal negative charge."
    },
    {
        type: 'essay',
        topic: Topics.NERVOUS_SYSTEM_STRUCTURE,
        originalNumber: 2,
        question: "Give reason for each of the following:\n2- The role of the connector neuron differs from that of the neuroglia in its connecting function.",
        correctAnswerText: "Connector neurons connect by transmitting and integrating nerve impulses; neuroglia connect by providing structural support and binding tissues.",
        explanation: "Distinguishes functional (neuronal) vs structural (neuroglial) connection."
    },
    {
        type: 'essay',
        topic: Topics.NERVOUS_SYSTEM_STRUCTURE,
        originalNumber: 1,
        question: "Compare between neurons and neuroglia cells in terms of function.",
        correctAnswerText: "Neurons: Transmit electrical and chemical impulses for communication. Neuroglia: Support, protect, insulate, nourish, and maintain the environment for neurons.",
        explanation: "Provides a functional comparison."
    },

    // Page 17: Seventh Week Home performances
    {
        type: 'essay',
        topic: Topics.NERVOUS_SYSTEM_STRUCTURE,
        originalNumber: 1,
        question: "1- Define the following:\na- Neuroglia.\nb- The nerve.\nc- Nerve impulse.\nd- Polarization.",
        correctAnswerText: "a- Neuroglia: Non-neuronal cells supporting and protecting neurons. b- The nerve: A bundle of axons in the PNS. c- Nerve impulse: An electrical signal (action potential) transmitted by a neuron. d- Polarization: Resting state with negative inside, positive outside charge.",
        explanation: "Provides standard definitions."
    },
    {
        type: 'essay',
        topic: Topics.NERVOUS_SYSTEM_STRUCTURE,
        originalNumber: 2,
        question: "2- Give reasons for the following:\na- Neuroglia cells contribute to the replacement of cutted parts in some neurons.\nb- Neuroglia cells have a binding function.\nc- The inner surface of neurons is negative during rest.",
        correctAnswerText: "a- Neuroglia proliferate and fill damaged areas (gliosis), 'replacing' volume but not function.\nb- Neuroglia provide structural support, holding nervous tissue together.<br>c- Due to selective permeability allowing K+ efflux and trapped intracellular negative anions.",
        explanation: "Explains neuroglia's roles in injury and support, and the basis of the negative resting potential."
    },
    {
        type: 'essay',
        topic: Topics.NERVOUS_SYSTEM_PHYSIOLOGY,
        originalNumber: 3,
        question: "3- Explain the following:\na- How the potential difference of a neuron is formed during rest.\nb- The structure of the nerve.",
        correctAnswerText: "a- Established by ion gradients (Na+/K+ pump) and selective membrane permeability (mainly K+ leak channels), leading to K+ efflux and internal negativity.<br>b- Bundle of axons (nerve fibers) organized into fascicles, surrounded by connective tissue sheaths (perineurium, epineurium) containing blood vessels.",
        explanation: "Explains resting potential mechanism and nerve structure."
    },
    {
        type: 'essay',
        topic: Topics.NERVOUS_SYSTEM_PHYSIOLOGY,
        originalNumber: 4,
        question: "4- Compare between the concentration of sodium and potassium ions in a neuron during rest.",
        correctAnswerText: "At rest, Na+ concentration is high outside and low inside. K+ concentration is high inside and low outside.",
        explanation: "Compares ion distribution at rest."
    },

    // Page 18: Weekly evaluation (7) A
    {
        type: 'mcq',
        topic: Topics.NERVOUS_SYSTEM_STRUCTURE,
        originalNumber: 1,
        question: "1- One of the functions of neuroglia is similar to the function of ............ in the skin.",
        options: ["a- the superficial layer of the epidermis", "b- the inner layer of the epidermis", "c- sweat gland", "d- fatty layer"],
        correctAnswer: 3,
        correctAnswerText: "d- fatty layer",
        explanation: "Both provide support and insulation.<br><br><b>Why this answer is correct:</b> Fatty layer provides support/insulation, similar to some neuroglial functions.<br><br><b>Why other options are incorrect:</b><br>a- Epidermis is barrier.<br>b- Inner epidermis is regenerative.<br>c- Sweat gland is secretory."
    },
    {
        type: 'mcq',
        topic: Topics.NERVOUS_SYSTEM_PHYSIOLOGY,
        originalNumber: 2,
        question: "2- When the potential difference of the neuronal membrane reaches -70 millivolts, the ...................",
        options: ["a- concentration of potassium ions outside the neuron is higher than inside.", "b- concentration of potassium ions inside the neuron is higher than outside.", "c- concentration of sodium ions inside the neuron is higher than outside.", "d- concentration of chloride ions outside the neuron is higher than inside."],
        correctAnswer: 1,
        correctAnswerText: "b- concentration of potassium ions inside the neuron is higher than outside.",
        explanation: "-70mV is the resting potential, where K+ is high inside and Na+ is high outside.<br><br><b>Why this answer is correct:</b> High internal K+ is characteristic of the resting potential.<br><br><b>Why other options are incorrect:</b><br>a- K+ is high inside.<br>c- Na+ is high outside.<br>d- Cl- is high outside, but K+ gradient is primary determinant of resting potential."
    },
    {
        type: 'essay',
        topic: Topics.NERVOUS_SYSTEM_STRUCTURE,
        originalNumber: 1,
        question: "Write what the following expressions mean:\na- Cells within the components of the nervous system that have the ability to divide.",
        correctAnswerText: "Neuroglia (or Glial cells).",
        explanation: "Neuroglia retain mitotic capability."
    },
    {
        type: 'essay',
        topic: Topics.NERVOUS_SYSTEM_STRUCTURE,
        originalNumber: 2,
        question: "Write what the following expressions mean:\nb- A group of nerve bundles",
        correctAnswerText: "A nerve.",
        explanation: "Definition of a nerve."
    },
    {
        type: 'essay',
        topic: Topics.NERVOUS_SYSTEM_STRUCTURE,
        originalNumber: 3,
        question: "Give reasons for the following:\nNeuroglia cells works like connective tissue.",
        correctAnswerText: "They provide structural support and framework for neurons, bind nervous tissue together, and fill spaces, performing roles analogous to connective tissue.",
        explanation: "Explains the supportive function similar to connective tissue."
    },

    // Page 19: Weekly evaluation (7) B
    {
        type: 'mcq',
        topic: Topics.NERVOUS_SYSTEM_STRUCTURE,
        originalNumber: 1,
        question: "1- Which of the following structures is similar in function to that of a neuroglia cell?",
        options: ["a- Nissil granules.", "b- Schwann cells.", "c- Nodes of Ranvier.", "d- Myelin sheath."],
        correctAnswer: 1,
        correctAnswerText: "b- Schwann cells.",
        explanation: "Schwann cells are a type of neuroglia in the PNS.<br><br><b>Why this answer is correct:</b> Schwann cells are neuroglia.<br><br><b>Why other options are incorrect:</b><br>a- Nissl granules are in neurons.<br>c- Nodes of Ranvier are gaps in myelin.<br>d- Myelin sheath is produced by neuroglia, but is not the cell itself."
    },
    {
        type: 'mcq',
        topic: Topics.NERVOUS_SYSTEM_PHYSIOLOGY,
        originalNumber: 2,
        question: "2- One of the causes of polarization is ...........",
        options: ["a- increased concentration of potassium ions outside the neuron.", "b- increased concentration of potassium ions inside the neuron.", "c- increased concentration of sodium ions inside the neuron.", "d- Increased concentration of chloride ions outside the neuron."],
        correctAnswer: 1,
        correctAnswerText: "b- increased concentration of potassium ions inside the neuron.",
        explanation: "High internal K+ concentration contributes significantly to the resting membrane potential via outward K+ leak.<br><br><b>Why this answer is correct:</b> High internal K+ is crucial for resting potential formation.<br><br><b>Why other options are incorrect:</b><br>a- K+ is low outside.<br>c- Na+ is low inside.<br>d- Cl- is high outside, but K+ gradient is more dominant for resting potential."
    },
    {
        type: 'essay',
        topic: Topics.NERVOUS_SYSTEM_STRUCTURE,
        originalNumber: 1,
        question: "Write what the following expressions mean:\na- A sheath of connective tissue supplied with blood vessels that surrounds a group of nerve bundles.\nb- The state of a nerve cell during rest when its outer surface is positive and its inner surface is negative.",
        correctAnswerText: "a- Perineurium (or Epineurium).\nb- Polarization.",
        explanation: "a- Connective tissue sheath around fascicles (perineurium) or nerve (epineurium). b- Definition of polarization."
    },
    {
        type: 'essay',
        topic: Topics.NERVOUS_SYSTEM_STRUCTURE,
        originalNumber: 3,
        question: "Give reasons for the following:\nNeuroglia cells have the ability to compensate..",
        correctAnswerText: "They can proliferate and migrate to the site of injury, clearing debris and filling spaces, partially compensating for lost neuronal volume, although not neuronal function.",
        explanation: "Explains neuroglia's role in injury response and repair."
    },

    // Page 20: Weekly evaluation (7) C
    {
        type: 'mcq',
        topic: Topics.NERVOUS_SYSTEM_STRUCTURE,
        originalNumber: 1,
        question: "1- Neuroglia cells are distinguished from other neurons by ...................",
        options: ["a- being from components of the nervous system.", "b) having a body cell.", "c) being nourish the neuron.", "d) being nourished by the neuron"],
        correctAnswer: 2,
        correctAnswerText: "c) being nourish the neuron.",
        explanation: "Many neuroglia types (like astrocytes, Schwann cells) provide metabolic support and nourishment to neurons.<br><br><b>Why this answer is correct:</b> Neuroglia provide nourishment to neurons.<br><br><b>Why other options are incorrect:</b><br>a- Both are components.<br>b- Both have cell bodies.<br>d- Neurons are nourished *by* neuroglia."
    },
    {
        type: 'mcq',
        topic: Topics.NERVOUS_SYSTEM_PHYSIOLOGY,
        originalNumber: 2,
        question: "2- The concentration of sodium ions outside the cell is ................... times higher than its concentration inside the cell.",
        options: ["a-5-10", "b-10-15", "c-15-30", "d-30-40"],
        correctAnswer: 1,
        correctAnswerText: "b-10-15",
        explanation: "The typical ratio of Na+ outside:inside at rest is approximately 10-15:1.<br><br><b>Why this answer is correct:</b> The range 10-15 accurately reflects the multiplier for Na+ concentration difference.<br><br><b>Why other options are incorrect:</b> These ranges are outside the typical physiological ratio for Na+."
    },
    {
        type: 'essay',
        topic: Topics.NERVOUS_SYSTEM_PHYSIOLOGY,
        originalNumber: 1,
        question: "Write what the following expressions mean:\na- The message transmitted by nerves from the sensory organs to the central nervous system",
        correctAnswerText: "Nerve impulse (or Sensory information).",
        explanation: "The signal transmitted by sensory neurons is the nerve impulse."
    },
    {
        type: 'essay',
        topic: Topics.NERVOUS_SYSTEM_PHYSIOLOGY,
        originalNumber: 2,
        question: "Write what the following expressions mean:\nb- Molecules inside the neuron are ionized and have high molecular weights that do not cross the plasma membrane.",
        correctAnswerText: "Negatively charged proteins and organic anions.",
        explanation: "Large, trapped intracellular anions contribute to the negative resting potential."
    },
    {
        type: 'essay',
        topic: Topics.NERVOUS_SYSTEM_PHYSIOLOGY,
        originalNumber: 1,
        question: "What does it mean that:\nThe effective potential difference is approximately -70 millivolts?",
        correctAnswerText: "It means the neuron is in its resting state (polarized), with the inside of the membrane having a negative charge relative to the outside, specifically a difference of about 70mV.",
        explanation: "Explains the significance of the -70mV resting potential."
    },

    // Page 21: Week 9 Class Performance
    {
        type: 'mcq',
        topic: Topics.NERVOUS_SYSTEM_PHYSIOLOGY,
        originalNumber: 1,
        question: "1- Which of the following ions, if its permeability increased, causes the potential difference in the neuron to return to -70 mV after excitation?",
        options: ["a- Na+", "b- K+", "c- Ca++", "d- Cl-"],
        correctAnswer: 1,
        correctAnswerText: "b- K+",
        explanation: "Increased K+ permeability and efflux cause repolarization back towards the resting potential.<br><br><b>Why this answer is correct:</b> K+ efflux drives repolarization.<br><br><b>Why other options are incorrect:</b><br>a- Na+ influx causes depolarization.<br>c- Ca++ is for neurotransmitter release.<br>d- Cl- contributes to resting potential/inhibition, not primary repolarization."
    },
    {
        type: 'mcq',
        topic: Topics.NERVOUS_SYSTEM_PHYSIOLOGY,
        originalNumber: 2,
        question: "2- Which of the following is related to the resting potential?",
        options: ["a- Equal distribution of ions.", "b- Insulation by Schwann cells.", "c- Action potential.", "d- Permeability of potassium ions outside the cell"],
        correctAnswer: 3,
        correctAnswerText: "d- Permeability of potassium ions outside the cell",
        explanation: "The selective permeability of the membrane to K+ (often via leak channels) is a primary determinant of the resting potential, allowing K+ to leak out. While phrased awkwardly, it refers to membrane permeability to K+.<br><br><b>Why this answer is correct:</b> K+ permeability is a key factor in the resting potential.<br><br><b>Why other options are incorrect:</b><br>a- Resting potential involves unequal ion distribution.<br>b- Insulation affects speed of impulse, not resting potential.<br>c- Action potential is a change from resting potential."
    },
    {
        type: 'mcq',
        topic: Topics.NERVOUS_SYSTEM_PHYSIOLOGY,
        originalNumber: 3,
        question: "3- Which of the following does the speed of nerve impulse transmission not depend on?",
        options: ["a- The diameter of the nerve fiber.", "b- The presence of acetylcholine.", "c- The presence of myelin sheaths.", "d- An increase in the strength of the stimulus"],
        correctAnswer: 1,
        correctAnswerText: "b- The presence of acetylcholine.",
        explanation: "Acetylcholine is a neurotransmitter for synaptic transmission. Speed along the axon depends on diameter, myelination, and temperature, but not neurotransmitters or stimulus strength above threshold.<br><br><b>Why this answer is correct:</b> Acetylcholine acts at synapses, not on axonal conduction speed.<br><br><b>Why other options are incorrect:</b><br>a, c - Diameter and myelin affect speed.<br>d- Stimulus strength (above threshold) is all-or-none; it doesn't change the speed of the resulting impulse."
    },
    {
        type: 'essay',
        topic: Topics.NERVOUS_SYSTEM_PHYSIOLOGY,
        originalNumber: 1,
        question: "Write what the following expressions mean:\n1- The state of a nerve cell at the time of excitation, when its outer surface is negative and its inner surface is positive.",
        correctAnswerText: "Depolarization (or Action potential peak).",
        explanation: "This describes the charge reversal during the action potential."
    },
    {
        type: 'essay',
        topic: Topics.NERVOUS_SYSTEM_PHYSIOLOGY,
        originalNumber: 2,
        question: "Write what the following expressions mean:\n2- A short period of time follow nerve excitation, during which the nerve cell membrane regains its physiological properties so that a new nerve impulse can be transmitted. During this period, the nerve does not respond to any stimulus, regardless of its strength.",
        correctAnswerText: "Absolute refractory period.",
        explanation: "The period of complete unresponsiveness after an action potential."
    },
    {
        type: 'essay',
        topic: Topics.NERVOUS_SYSTEM_PHYSIOLOGY,
        originalNumber: 3,
        question: "Write what the following expressions mean:\n3- The phenomenon of depolarization from -70 mV to +40 mV and then back to -70 mV, which equals 110 mV.",
        correctAnswerText: "Action Potential.",
        explanation: "This is the characteristic voltage change during a nerve impulse."
    },
    {
        type: 'essay',
        topic: Topics.NERVOUS_SYSTEM_PHYSIOLOGY,
        originalNumber: 1,
        question: "What happens when:\n1- A neuron is stimulated or excited by another nearby neuron.",
        correctAnswerText: "Neurotransmitters are released, binding to the postsynaptic neuron and causing a change in its membrane potential (EPSP or IPSP). If sufficient excitatory input reaches the threshold, it triggers an action potential.",
        explanation: "Describes synaptic transmission leading to potential firing."
    },
    {
        type: 'essay',
        topic: Topics.NERVOUS_SYSTEM_PHYSIOLOGY,
        originalNumber: 2,
        question: "What happens when:\n2- The stimulus acting on the neuron is removed.",
        correctAnswerText: "If the threshold was reached, the action potential completes, and the membrane returns to the resting state via the Na+/K+ pump. If the stimulus was sub-threshold, the local potential change dissipates, and the membrane returns to resting potential.",
        explanation: "Describes the return to resting state after stimulus removal."
    },
    {
        type: 'essay',
        topic: Topics.NERVOUS_SYSTEM_PHYSIOLOGY,
        originalNumber: 1,
        question: "Explain:\n1- The composition of the nerve cell's plasma membrane contributes to the generation of nerve impulses.",
        correctAnswerText: "The membrane contains ion channels and pumps that maintain ion gradients and allow selective ion flow. Opening/closing of voltage-gated channels causes rapid ion movements that create the action potential.",
        explanation: "Explains the role of membrane components in electrical signaling."
    },
    {
        type: 'essay',
        topic: Topics.NERVOUS_SYSTEM_PHYSIOLOGY,
        originalNumber: 2,
        question: "Explain:\n2- The nerve impulse is transmitted in the form of successive waves of depolarization, repolarization, and depolarization.",
        correctAnswerText: "Depolarization in one area triggers depolarization in the adjacent area, propagating the action potential as a wave. Repolarization follows, preparing the membrane for the next impulse.",
        explanation: "Describes action potential propagation as a wave of potential changes."
    },
    {
        type: 'essay',
        topic: Topics.NERVOUS_SYSTEM_STRUCTURE,
        originalNumber: 3,
        question: "Explain:\n3- Role of Nissil granules in the nerve cell body.",
        correctAnswerText: "Nissl granules are sites of protein synthesis (RER and ribosomes). They produce proteins necessary for the neuron's structure, function (e.g., neurotransmitter synthesis enzymes), maintenance, and growth.",
        explanation: "Explains the protein synthesis function of Nissl granules."
    },

    // Page 22: Week 9 Home performances
    {
        type: 'essay',
        topic: Topics.NERVOUS_SYSTEM_PHYSIOLOGY,
        originalNumber: 1,
        question: "1- Define the following:\na- Depolarization.\nb- Action Potential.",
        correctAnswerText: "a- Depolarization: Reduction in membrane potential, making the inside less negative or positive. b- Action Potential: A brief, rapid, all-or-none reversal of membrane potential that propagates along an axon.",
        explanation: "Provides standard definitions."
    },
    {
        type: 'essay',
        topic: Topics.NERVOUS_SYSTEM_PHYSIOLOGY,
        originalNumber: 2,
        question: "2- Give reasons for the following:\na- The importance of sodium and potassium pumps.\nb- The difference in nerve impulse velocity is affected by the diameter of the nerve fiber.",
        correctAnswerText: "a- They maintain ion gradients (high Na+ out, high K+ in) crucial for resting potential and rapid ion flow during action potentials.<br>b- Larger diameter axons have lower resistance, allowing local currents to spread faster, increasing conduction velocity.",
        explanation: "Explains pumps' role in gradients and diameter's effect on speed."
    },
    {
        type: 'essay',
        topic: Topics.NERVOUS_SYSTEM_PHYSIOLOGY,
        originalNumber: 3,
        question: "3- Complete the following table:\n\n| Comparison            | Polarization State | Depolarization State |\n|-----------------------|--------------------|----------------------|\n| Potential Difference  |                    |                      |\n| Inner Membrane Charge |                    |                      |",
        correctAnswerText: "| Comparison            | Polarization State | Depolarization State |\n|-----------------------|--------------------|----------------------|\n| Potential Difference  | Approx. -70 mV     | Approx. +30 to +40 mV |\n| Inner Membrane Charge | Negative           | Positive             |",
        explanation: "Fills table with potential and charge characteristics of polarized and depolarized states."
    },
    {
        type: 'essay',
        topic: Topics.NERVOUS_SYSTEM_PHYSIOLOGY,
        originalNumber: 4,
        question: "4- What happens when:\nA region of the nerve membrane is excited:\n1- during the refractory period.\n2- during the depolarization period.",
        correctAnswerText: "1- During the absolute refractory period, it will not respond to any stimulus. During the relative refractory period, it will respond only to a stronger-than-threshold stimulus.\n2- The stimulus will have no additional effect during depolarization (absolute refractory period).",
        explanation: "Describes the responsiveness (or lack thereof) during refractory and depolarization periods."
    },
    {
        type: 'essay',
        topic: Topics.NERVOUS_SYSTEM_PHYSIOLOGY,
        originalNumber: 5,
        question: "5- Determine the effect of the nerve membrane's transition from a polarized state to a depolarized state on:\n1- negative protein ions.\n2- potassium ion concentration.",
        correctAnswerText: "1- Negative protein ions: Remain largely trapped inside, contributing to the resting potential but not moving during depolarization.<br>2- Potassium ion concentration: Bulk concentration inside remains high; some K+ movement occurs, but significant efflux happens during subsequent repolarization.",
        explanation: "Explains that trapped anions stay put and K+ movement is primarily during repolarization."
    },

    // Page 23: Week 9 Weekly evaluation A
    {
        type: 'mcq',
        topic: Topics.NERVOUS_SYSTEM_PHYSIOLOGY,
        originalNumber: 1,
        question: "The speed of nerve impulse is affected by all of the following except ..........",
        options: ["a- The presence of a Ranvier node", "b- Increased stimulus strength", "c- The presence of a myelin sheath", "d- Nerve fiber diameter"],
        correctAnswer: 1,
        correctAnswerText: "b- Increased stimulus strength",
        explanation: "Speed is fixed once threshold is reached; stimulus strength above threshold does not increase speed.<br><br><b>Why this answer is correct:</b> Stimulus strength above threshold doesn't alter impulse speed.<br><br><b>Why other options are incorrect:</b><br>a, c, d - Nodes, myelin, and diameter all affect conduction speed."
    },
    {
        type: 'essay',
        topic: Topics.NERVOUS_SYSTEM_PHYSIOLOGY,
        originalNumber: 1,
        question: "What happens when?\nA cell is exposed to a stimulus of a higher intensity than the threshold required for excitation during resting state?",
        correctAnswerText: "A full action potential will be generated and propagated according to the all-or-none law.",
        explanation: "Describes the result of a suprathreshold stimulus on a resting neuron."
    },
    {
        type: 'essay',
        topic: Topics.NERVOUS_SYSTEM_PHYSIOLOGY,
        originalNumber: 1,
        question: "Write what the following expressions mean:\nIt plays a role in maintaining the relative stability of ion distribution.",
        correctAnswerText: "Sodium-potassium pump (Na<sup>+</sup>/K<sup>+</sup> pump).",
        explanation: "The pump actively maintains ion gradients."
    },
    {
        type: 'essay',
        topic: Topics.NERVOUS_SYSTEM_PHYSIOLOGY,
        originalNumber: 1,
        question: "Give reasons for the following:\nOccurrence of depolarization state",
        correctAnswerText: "A stimulus causes membrane potential to reach threshold, opening voltage-gated Na+ channels. Rapid influx of Na+ ions into the cell reverses the membrane potential, causing depolarization.",
        explanation: "Explains the trigger and ionic basis of depolarization."
    },
    {
        type: 'essay',
        topic: Topics.NERVOUS_SYSTEM_PHYSIOLOGY,
        originalNumber: 1,
        question: "Write the number that indicates: the action potential of a neuron.",
        correctAnswerText: "Approx. +30 to +40 mV (peak potential) or approx. 100 to 110 mV (total change from resting).",
        explanation: "Provides typical values for the peak or total change during an action potential."
    },

    // Page 24: Week 9 Weekly evaluation B
    {
        type: 'mcq',
        topic: Topics.NERVOUS_SYSTEM_PHYSIOLOGY,
        originalNumber: 1,
        question: "The cell's entry into a depolarized state is caused by a rush of ............",
        options: ["a- Sodium ions in large quantities to inside", "b- Potassium ions in large quantities to outside", "c- Sodium ions in large quantities to outside", "d- Chloride ions in large quantities inside"],
        correctAnswer: 0,
        correctAnswerText: "a- Sodium ions in large quantities to inside",
        explanation: "Rapid Na+ influx causes depolarization.<br><br><b>Why this answer is correct:</b> Influx of Na+ drives depolarization.<br><br><b>Why other options are incorrect:</b><br>b- K+ efflux causes repolarization.<br>c- Na+ rushes *in*.<br>d- Cl- influx causes hyperpolarization/inhibition."
    },
    {
        type: 'essay',
        topic: Topics.NERVOUS_SYSTEM_PHYSIOLOGY,
        originalNumber: 1,
        question: "What happens when:\nThe cell is exposed to a stimulus of greater intensity than the threshold required for excitation during the refractory period?",
        correctAnswerText: "During the absolute refractory period, no action potential occurs. During the relative refractory period, a suprathreshold stimulus can trigger an action potential.",
        explanation: "Explains variable responsiveness during refractory period."
    },
    {
        type: 'essay',
        topic: Topics.NERVOUS_SYSTEM_PHYSIOLOGY,
        originalNumber: 1,
        question: "Write what the following expressions mean:\nPositive charged ions pass from the cell's interior to the outside environment during nervous excitation.",
        correctAnswerText: "Potassium efflux during repolarization.",
        explanation: "Outward movement of K+ during repolarization."
    },
    {
        type: 'essay',
        topic: Topics.NERVOUS_SYSTEM_PHYSIOLOGY,
        originalNumber: 1,
        question: "Give reasons for the following:\nThe importance of sodium and potassium pumps.",
        correctAnswerText: "They maintain the ion gradients necessary for the resting potential and for resetting the gradients after action potentials, ensuring continuous neuronal excitability.",
        explanation: "Explains the role of pumps in maintaining gradients."
    },
    {
        type: 'essay',
        topic: Topics.NERVOUS_SYSTEM_PHYSIOLOGY,
        originalNumber: 1,
        question: "Write the number that represents: the speed of nerve impulses at the myelin sheath.",
        correctAnswerText: "Approx. 100-120 m/s (speed *along* myelinated axon).",
        explanation: "Provides typical high speed of saltatory conduction."
    },

    // Page 25: Week 9 Weekly evaluation C
    {
        type: 'mcq',
        topic: Topics.NERVOUS_SYSTEM_PHYSIOLOGY,
        originalNumber: 1,
        question: "A nerve cell is exposed to a stimulus. Which of the following indicates that the cell membrane will not be affected by this stimulus?",
        options: ["a) The Electrical potential difference is -70 mV", "b) The Electrical potential difference is +40 mV", "c) The outer surface of the nerve membrane is positive", "d) The inner surface of the nerve cell is negative"],
        correctAnswer: 0,
        correctAnswerText: "a) The Electrical potential difference is -70 mV",
        explanation: "Remaining at the resting potential (-70mV) means the stimulus was sub-threshold and did not trigger an action potential or significant change.<br><br><b>Why this answer is correct:</b> Staying at resting potential indicates no excitation.<br><br><b>Why other options are incorrect:</b><br>b) +40mV is peak action potential (affected).<br>c, d) These describe the resting state (-70mV), so while true, the direct measurement of -70mV (a) is the most precise indicator that the specific stimulus did not cause a significant change in membrane potential leading to excitation.",
    },
    {
        type: 'essay',
        topic: Topics.NERVOUS_SYSTEM_PHYSIOLOGY,
        originalNumber: 1,
        question: "Write what the following expressions mean:\nThe period during which the cell membrane of a neuron regains its physiological properties.",
        correctAnswerText: "Refractory period.",
        explanation: "The refractory period allows recovery and prevents immediate re-firing."
    },
    {
        type: 'essay',
        topic: Topics.NERVOUS_SYSTEM_PHYSIOLOGY,
        originalNumber: 1,
        question: "Explain the following:\nThe \"all or none\" law is from the properties of nerve impulse.",
        correctAnswerText: "If a stimulus reaches threshold, a full action potential is generated. If below threshold, no action potential occurs. The magnitude of the action potential is independent of stimulus strength above threshold.",
        explanation: "Explains the fixed magnitude and threshold requirement for action potentials."
    },
    {
        type: 'essay',
        topic: Topics.NERVOUS_SYSTEM_PHYSIOLOGY,
        originalNumber: 1,
        question: "Write the number that represents: the velocity of nerve impulse at the node of Ranvier.",
        correctAnswerText: "The velocity *at* the node is very high due to rapid depolarization. The overall velocity *between* nodes (saltatory conduction) in myelinated fibers is approx. 100-120 m/s.",
        explanation: "Clarifies the concept of fast depolarization at the node as part of rapid saltatory conduction."
    },
];


        const quotes = [
            "The only way to do great work is to love what you do. – Steve Jobs",
            "Education is the most powerful weapon which you can use to change the world. – Nelson Mandela",
            "The future belongs to those who believe in the beauty of their dreams. – Eleanor Roosevelt",
            "Strive for progress, not perfection.",
            "The expert in anything was once a beginner.",
            "Don't watch the clock; do what it does. Keep going.",
            "Success is not final, failure is not fatal: It is the courage to continue that counts. – Winston Churchill",
            "The mind is not a vessel to be filled, but a fire to be kindled. – Plutarch",
            "Study hard what interests you the most in the most undisciplined, irreverent and original manner possible. – Richard Feynman",
            "Learning never exhausts the mind. – Leonardo da Vinci"
        ];


        let currentQuestionIndex = 0;
        let score = 0;
        let buttonsDisabled = false; // Controls user input on answer/skip buttons / self-correction buttons / reveal button
        let gameInProgress = false; // Controls overall game state
        let currentTopicQuestions = [];
        let lessonAttempts = []; // To store results for PDF: Incorrect MCQs, Skipped MCQs, Self-corrected Wrong Essays
        let questionsToRemember = []; // To store questions added to remember list for PDF: Correct MCQs (if button clicked), Self-corrected Correct Essays (if button clicked)

        // Get DOM elements
        const lessonSelectionElement = document.getElementById('lesson-selection');
        const gameContainerElement = document.querySelector('.game-container');
        const gameTitleElement = document.getElementById('game-title');
        const questionCounterElement = document.querySelector('.question-counter');
        const currentQNumElement = document.getElementById('current-q-num');
        const totalQNumElement = document.getElementById('total-q-num');
        const questionAreaElement = document.getElementById('question-area');
        const questionTextElement = document.getElementById('question-text');
        const answerButtonsElement = document.getElementById('answer-buttons'); // MCQ buttons container
        const revealAnswerButton = document.getElementById('reveal-answer-button'); // New Reveal button
        const essaySelfCorrectionButtonsElement = document.getElementById('essay-self-correction-buttons'); // Essay buttons container
        const feedbackElement = document.getElementById('feedback');
        const explanationAreaElement = document.getElementById('explanation-area');
        const explanationTextElement = document.getElementById('explanation-text');
        const scoreAreaElement = document.getElementById('score-area');
        const scoreElement = document.getElementById('score');
        const skipButton = document.getElementById('skip-button'); // Skip button (only for MCQ)
        const nextButton = document.getElementById('next-button');
        const addToRememberButton = document.getElementById('add-to-remember-button'); // Add to Remember button
        const finalScoreElement = document.getElementById('final-score');
        const finalScoreTextElement = document.getElementById('final-score-text');
        const finalTotalTextElement = document.getElementById('final-total-text');
        const restartButton = document.getElementById('restart-button');
        const downloadPdfButton = document.getElementById('download-mistakes-pdf');
        const exportAllPdfButton = document.getElementById('export-all-pdf-button'); // Export All button
        const quoteAreaElement = document.getElementById('quote-area');
        const currentQuoteElement = document.getElementById('current-quote');

         // Create self-correction buttons once and manage their visibility
        const correctEssayButton = document.createElement('button');
        correctEssayButton.textContent = 'I got it Right!';
        correctEssayButton.classList.add('self-correct-button');
        // Event listener added in revealAnswer()

        const wrongEssayButton = document.createElement('button');
        wrongEssayButton.textContent = 'I was Wrong';
        wrongEssayButton.classList.add('self-correct-button', 'wrong');
        // Event listener added in revealAnswer()

        // Append them to the container, they will be hidden by default via CSS .hidden
        essaySelfCorrectionButtonsElement.appendChild(correctEssayButton);
        essaySelfCorrectionButtonsElement.appendChild(wrongEssayButton);

         // Add event listener for the new Reveal Answer button
         revealAnswerButton.addEventListener('click', revealAnswer);


        // --- Functions ---

        function showLessonSelection() {
            gameInProgress = false;
            // Hide game elements
            gameContainerElement.classList.add('hidden');
            finalScoreElement.classList.add('hidden');
            explanationAreaElement.classList.add('hidden');
            explanationAreaElement.classList.remove('visible'); // Remove animation class
            addToRememberButton.classList.add('hidden'); // Hide remember button
            quoteAreaElement.classList.add('hidden'); // Hide quote area

            // Show lesson selection
            lessonSelectionElement.classList.remove('hidden');

            // Clear existing buttons before adding new ones
             while (lessonSelectionElement.firstChild) {
                 lessonSelectionElement.removeChild(lessonSelectionElement.firstChild);
             }
             // Add back the h2 title
             const title = document.createElement('h2');
             title.textContent = 'Choose a Lesson';
             lessonSelectionElement.appendChild(title);


            for (const topicKey in Topics) {
                const topicName = Topics[topicKey];
                // Check if there are questions for this topic before adding the button
                const questionsForTopic = allQuestions.filter(q => q.topic === topicName);
                if (questionsForTopic.length > 0) {
                    const btn = document.createElement("button");
                    btn.classList.add("action-button");
                    btn.innerText = `${topicName} (${questionsForTopic.length} Questions)`;
                    btn.addEventListener('click', () => startGame(topicName));
                    lessonSelectionElement.appendChild(btn);
                }
            }
        }

        function startGame(topic) {
            gameInProgress = true;
            console.log(`Starting lesson: ${topic}`);
            // Filter questions based on the chosen topic and sort by original number
            currentTopicQuestions = allQuestions
                .filter(q => q.topic === topic)
                .sort((a, b) => a.originalNumber - b.originalNumber); // Sort by original number

            if (currentTopicQuestions.length === 0) {
                alert(`No questions found for the topic: ${topic}`);
                showLessonSelection(); // Go back to selection if no questions
                return;
            }

            // Reset game state
            currentQuestionIndex = 0;
            score = 0;
            lessonAttempts = []; // Clear attempts for the new lesson
            questionsToRemember = []; // Clear remember list for the new lesson
            scoreElement.textContent = score;
            totalQNumElement.textContent = currentTopicQuestions.length; // Update total count

            // Update game title
            gameTitleElement.textContent = `Game Show! - ${topic}`; // Updated title

            // Hide lesson selection
            lessonSelectionElement.classList.add('hidden');

            // Show game elements
            gameContainerElement.classList.remove('hidden');
            questionAreaElement.classList.remove('hidden');
            feedbackElement.classList.remove('hidden');
            scoreAreaElement.classList.remove('hidden');
            quoteAreaElement.classList.remove('hidden');
            questionCounterElement.classList.remove('hidden'); // Show question counter

            // Hide end game elements
            finalScoreElement.classList.add('hidden');
            nextButton.classList.add('hidden');
            restartButton.classList.add('hidden');
            downloadPdfButton.classList.add('hidden');
            exportAllPdfButton.classList.add('hidden'); // Hide export all button

            displayQuestion();
            displayRandomQuote();
        }

        function displayQuestion() {
            resetState(); // Clears feedback, explanation, buttons, etc.
            buttonsDisabled = false; // Re-enable input

            const question = currentTopicQuestions[currentQuestionIndex];

            if (!question) {
                console.error("Question index out of bounds or no questions found.");
                questionTextElement.innerHTML = "Error: Could not load next question."; // Use innerHTML for potential HTML
                buttonsDisabled = true;
                // Hide all action buttons on error
                nextButton.classList.add('hidden');
                skipButton.classList.add('hidden');
                addToRememberButton.classList.add('hidden');
                revealAnswerButton.classList.add('hidden');
                essaySelfCorrectionButtonsElement.classList.add('hidden');
                 quoteAreaElement.classList.add('hidden'); // Hide quote area on error
                setTimeout(() => restartButton.classList.remove('hidden'), 2000);
                return;
            }

            // Update question counter
            currentQNumElement.textContent = currentQuestionIndex + 1;

            questionTextElement.innerHTML = question.question; // Use innerHTML

            // --- Handle different question types ---
            if (question.type === 'mcq') {
                answerButtonsElement.classList.remove('hidden');
                revealAnswerButton.classList.add('hidden'); // Hide reveal for MCQ
                essaySelfCorrectionButtonsElement.classList.add('hidden'); // Hide essay buttons
                skipButton.classList.remove('hidden'); // Show the skip button for MCQ
                skipButton.disabled = false; // Enable the skip button

                 if (!question.options || question.options.length === 0) {
                     console.error("MCQ question has no options:", question);
                     questionTextElement.innerHTML = `Error loading MCQ question ${question.originalNumber}. Please check the question data.`; // Use innerHTML
                     buttonsDisabled = true;
                     // Hide all action buttons on error
                     skipButton.classList.add('hidden');
                     addToRememberButton.classList.add('hidden');
                     revealAnswerButton.classList.add('hidden');
                      essaySelfCorrectionButtonsElement.classList.add('hidden');
                      quoteAreaElement.classList.add('hidden'); // Hide quote area on error
                     if (currentQuestionIndex < currentTopicQuestions.length - 1) {
                         setTimeout(() => { nextButton.classList.remove('hidden'); }, 800);
                     } else {
                         setTimeout(endGame, 1000);
                     }
                     return;
                 }


                answerButtonsElement.innerHTML = ''; // Clear previous MCQ buttons effectively
                question.options.forEach((option, index) => {
                    const button = document.createElement('button');
                    button.innerHTML = option; // Use innerHTML
                    button.classList.add('answer-button');
                    button.dataset.index = index;

                    // Use an anonymous function to call selectAnswer with the correct index
                    button.addEventListener('click', () => selectAnswer(index));
                    answerButtonsElement.appendChild(button);
                });

            } else if (question.type === 'essay') {
                answerButtonsElement.classList.add('hidden'); // Hide MCQ buttons
                skipButton.classList.add('hidden'); // Hide the skip button for essay
                essaySelfCorrectionButtonsElement.classList.add('hidden'); // Hide essay buttons initially
                explanationAreaElement.classList.add('hidden'); // Hide explanation initially for essay
                explanationAreaElement.classList.remove('visible'); // Remove animation class
                 addToRememberButton.classList.add('hidden'); // Hide remember button initially for essay

                 // Show and enable the Reveal Answer button
                 revealAnswerButton.classList.remove('hidden');
                 revealAnswerButton.disabled = false;

            } else {
                // Handle unknown question types
                 console.error("Question has unknown type:", question);
                 questionTextElement.innerHTML = `Error loading question ${question.originalNumber} (Unknown type). Please check the question data.`; // Use innerHTML
                 buttonsDisabled = true;
                  // Hide all action buttons on error
                 skipButton.classList.add('hidden');
                 addToRememberButton.classList.add('hidden');
                 revealAnswerButton.classList.add('hidden');
                  essaySelfCorrectionButtonsElement.classList.add('hidden');
                  quoteAreaElement.classList.add('hidden'); // Hide quote area on error
                 if (currentQuestionIndex < currentTopicQuestions.length - 1) {
                     setTimeout(() => { nextButton.classList.remove('hidden'); }, 800);
                 } else {
                     setTimeout(endGame, 1000);
                 }
                 return;
            }
        }

        function resetState() {
            // Clear previous answer buttons (MCQ) and hide their container
             answerButtonsElement.innerHTML = '';
             answerButtonsElement.classList.add('hidden'); // Ensure MCQ buttons are hidden by default


            // Hide essay self-correction buttons
            essaySelfCorrectionButtonsElement.classList.add('hidden');
             correctEssayButton.disabled = true; // Disable them when hidden
             wrongEssayButton.disabled = true;

             // Hide reveal answer button
             revealAnswerButton.classList.add('hidden');
             revealAnswerButton.disabled = true;


            feedbackElement.textContent = '';
            feedbackElement.style.color = '';
            explanationAreaElement.classList.add('hidden');
            explanationAreaElement.classList.remove('visible');
            explanationTextElement.innerHTML = ''; // Use innerHTML
            nextButton.classList.add('hidden');
            skipButton.classList.add('hidden'); // Hide skip button by default, displayQuestion will show for MCQ
            addToRememberButton.classList.add('hidden'); // Hide remember button by default, selectAnswer/handleSelfCorrection will show on correct

             // Remove any event listeners added in revealAnswer to prevent duplicates on subsequent questions
             correctEssayButton.removeEventListener('click', () => handleSelfCorrection(true));
             wrongEssayButton.removeEventListener('click', () => handleSelfCorrection(false));
        }

        // Handle MCQ answer selection
        function selectAnswer(selectedIndex) {
            if (buttonsDisabled) return; // Prevent double-clicking
            const question = currentTopicQuestions[currentQuestionIndex];

            // Ensure this is an MCQ, although displayQuestion should prevent calling this
             if (question.type !== 'mcq') {
                 console.warn("selectAnswer called for non-MCQ type:", question);
                 return; // Should not happen if displayQuestion works correctly
             }

            buttonsDisabled = true; // Disable input once an answer is chosen

            // Disable and hide the skip button immediately
            skipButton.disabled = true;
            skipButton.classList.add('hidden');

            // Disable all answer buttons
            const answerButtons = answerButtonsElement.querySelectorAll('.answer-button');
            answerButtons.forEach(button => button.disabled = true);


            const isCorrect = (selectedIndex === question.correctAnswer);

            // Record the attempt ONLY IF INCORRECT OR SKIPPED (handled in skipQuestion)
            // Correct MCQ attempts are NOT added to lessonAttempts
            if (!isCorrect) {
                lessonAttempts.push({
                    type: 'mcq', // Store type in attempt
                    originalNumber: question.originalNumber, // Include original number
                    questionText: question.question, // Keep original HTML
                    selectedAnswer: question.options[selectedIndex], // Keep original HTML
                    correctAnswerText: question.correctAnswerText, // Keep original HTML
                    options: question.options, // Keep original HTML options list
                    explanation: question.explanation, // Keep original HTML
                    isCorrect: isCorrect, // Will be false here
                    topic: question.topic,
                    // isRememberedItem is only added to questionsToRemember list
                });
            }


            // Highlight buttons
            answerButtons.forEach((button, index) => {
                if (index === question.correctAnswer) {
                    button.classList.add('correct');
                } else if (index === selectedIndex) {
                    button.classList.add('incorrect');
                }
            });

            if (isCorrect) {
                score++;
                scoreElement.textContent = score;
                feedbackElement.textContent = 'Correct!';
                feedbackElement.style.color = '#28a745'; // Green

                // Show and check state of Add to Remember button ONLY if correct
                addToRememberButton.classList.remove('hidden');
                checkRememberButtonState(question); // Check if already added and set state/text

            } else {
                feedbackElement.textContent = `Incorrect.`;
                feedbackElement.style.color = '#dc3545'; // Red
                addToRememberButton.classList.add('hidden'); // Ensure hidden if incorrect
            }

            // Display explanation with animation (includes correct answer)
            // Construct explanation HTML to include Correct Answer text for display
            const explanationHtml = `<strong>Correct Answer:</strong> ${question.correctAnswerText}<br><br><strong>Explanation:</strong> ${question.explanation}`;
            explanationTextElement.innerHTML = explanationHtml; // Use innerHTML
            explanationAreaElement.classList.remove('hidden');
            setTimeout(() => {
                explanationAreaElement.classList.add('visible');
            }, 10);


            // Determine next action after a delay
            if (currentQuestionIndex < currentTopicQuestions.length - 1) {
                setTimeout(() => {
                    nextButton.classList.remove('hidden');
                }, 800); // Faster timeout
            } else {
                // This is the last question
                setTimeout(endGame, 1200); // Faster endgame
            }
        }

         // Handle clicking the Reveal Answer button for essay questions
         function revealAnswer() {
             if (buttonsDisabled) return; // Prevent double-clicking
             buttonsDisabled = true; // Disable input temporarily

             const question = currentTopicQuestions[currentQuestionIndex];
             if (question.type !== 'essay') {
                  console.warn("revealAnswer called for non-essay type:", question);
                  buttonsDisabled = false; // Re-enable if it was a mistake
                  return;
             }

             // Disable and hide the Reveal button
             revealAnswerButton.disabled = true;
             revealAnswerButton.classList.add('hidden');


             // Display explanation with animation (includes model answer)
             const explanationHtml = `<strong>Model Answer:</strong> ${question.correctAnswerText}<br><br><strong>Explanation:</strong> ${question.explanation}`;
             explanationTextElement.innerHTML = explanationHtml; // Use innerHTML
             explanationAreaElement.classList.remove('hidden');
             setTimeout(() => {
                 explanationAreaElement.classList.add('visible');
             }, 10);


             // Now show and enable the self-correction buttons after a slight delay
             setTimeout(() => {
                  essaySelfCorrectionButtonsElement.classList.remove('hidden');
                  correctEssayButton.disabled = false;
                  wrongEssayButton.disabled = false;
                  buttonsDisabled = false; // Re-enable input for self-correction buttons

                  // Add listeners *only* after they are revealed and enabled
                  // Previous listeners are removed in resetState
                  correctEssayButton.addEventListener('click', () => handleSelfCorrection(true));
                  wrongEssayButton.addEventListener('click', () => handleSelfCorrection(false));

             }, 500); // Small delay before showing correction buttons
         }


        // Handle Essay self-correction
        function handleSelfCorrection(isCorrect) {
            if (buttonsDisabled) return; // Prevent double-clicking
             const question = currentTopicQuestions[currentQuestionIndex];

            // Ensure this is an Essay
             if (question.type !== 'essay') {
                 console.warn("handleSelfCorrection called for non-essay type:", question);
                  return; // Should not happen
             }

            buttonsDisabled = true; // Disable input once self-corrected

            // Disable self-correction buttons immediately
             correctEssayButton.disabled = true;
             wrongEssayButton.disabled = true;
             essaySelfCorrectionButtonsElement.classList.add('hidden'); // Hide the container

             // Remove listeners to prevent them from firing again
             correctEssayButton.removeEventListener('click', () => handleSelfCorrection(true));
             wrongEssayButton.removeEventListener('click', () => handleSelfCorrection(false));


             if (isCorrect) {
                score++;
                scoreElement.textContent = score;
                feedbackElement.textContent = 'Marked as Correct!';
                feedbackElement.style.color = '#28a745'; // Green

                // *** REMOVED AUTOMATIC ADDITION FOR ESSAY CORRECT ***
                // Now just show the 'Add to Remember' button like for MCQs
                 addToRememberButton.classList.remove('hidden');
                 checkRememberButtonState(question); // Set button text and state

             } else {
                feedbackElement.textContent = `Marked as Incorrect.`;
                feedbackElement.style.color = '#dc3545'; // Red
                 addToRememberButton.classList.add('hidden'); // Ensure hidden if incorrect

                 // Record the attempt as self-corrected wrong
                lessonAttempts.push({
                    type: 'essay', // Store type in attempt
                    originalNumber: question.originalNumber,
                    questionText: question.question, // Include question text
                    selectedAnswer: "[Self-Corrected as Wrong]", // Indicate it was self-corrected wrong
                    correctAnswerText: question.correctAnswerText, // Include correct answer text (model answer)
                    options: [], // No options for essay
                    explanation: question.explanation, // Include explanation
                    isCorrect: false, // Mark as incorrect/missed
                    topic: question.topic,
                });
             }

            // Explanation is already visible from revealAnswer()


            // Determine next action after a delay
            if (currentQuestionIndex < currentTopicQuestions.length - 1) {
                setTimeout(() => {
                    nextButton.classList.remove('hidden');
                }, 800); // Faster timeout
            } else {
                setTimeout(endGame, 1200);
            }
        }


        // Handle MCQ skip
        function skipQuestion() {
            if (buttonsDisabled) return; // Prevent double-clicking
            const question = currentTopicQuestions[currentQuestionIndex];
             // Ensure this is an MCQ
            if (question.type !== 'mcq') {
                 console.warn("skipQuestion called for non-MCQ type:", question);
                 return; // Should not happen
            }

            buttonsDisabled = true; // Disable input once skip is clicked

            // Disable and hide the skip button immediately
            skipButton.disabled = true;
            skipButton.classList.add('hidden');

            // Disable all answer buttons
            const answerButtons = answerButtonsElement.querySelectorAll('.answer-button');
            answerButtons.forEach(button => button.disabled = true);

            // Record the attempt as skipped/incorrect
             lessonAttempts.push({
                type: 'mcq', // Store type in attempt
                originalNumber: question.originalNumber,
                questionText: question.question, // Include question text
                selectedAnswer: "[Skipped]", // Indicate it was skipped
                correctAnswerText: question.correctAnswerText, // Include correct answer text
                options: question.options, // Include options
                explanation: question.explanation, // Include explanation
                isCorrect: false, // Mark as incorrect/missed for filtering
                topic: question.topic,
                // Do NOT add isRememberedItem: true here
            });


            // Provide feedback for skipping
            feedbackElement.textContent = 'Question Skipped.';
            feedbackElement.style.color = '#ffc107'; // Yellow/Orange color for skipped feedback

            // Highlight the correct answer button visually (if it exists)
             const answerButtonsList = answerButtonsElement.querySelectorAll('.answer-button');
            if (question.correctAnswer !== undefined && question.correctAnswer >= 0 && question.correctAnswer < answerButtonsList.length) {
                 answerButtonsList[question.correctAnswer].classList.add('correct');
            }


            // Display explanation and correct answer with animation
             const explanationHtml = `<strong>Correct Answer:</strong> ${question.correctAnswerText}<br><br><strong>Explanation:</strong> ${question.explanation}`;
             explanationTextElement.innerHTML = explanationHtml; // Use innerHTML
            explanationAreaElement.classList.remove('hidden');
            setTimeout(() => {
                explanationAreaElement.classList.add('visible');
            }, 10);

            // *** Do NOT show "Add to Remember" button if skipped ***
            addToRememberButton.classList.add('hidden');


            // Determine next action after a delay
            if (currentQuestionIndex < currentTopicQuestions.length - 1) {
                setTimeout(() => {
                    nextButton.classList.remove('hidden');
                }, 800); // Faster timeout
            } else {
                setTimeout(endGame, 1200);
            }
        }

        // Function to check and set the state of the "Add to Remember" button
        function checkRememberButtonState(question) {
            // Check if the current question is already in the remember list
            const isAlreadyAdded = questionsToRemember.some(q => q.originalNumber === question.originalNumber && q.topic === question.topic);

            if (isAlreadyAdded) {
                addToRememberButton.textContent = "Added!";
                addToRememberButton.disabled = true;
                 // Styling is handled by the CSS :disabled rule now
            } else {
                addToRememberButton.textContent = "Add to Remember List";
                addToRememberButton.disabled = false;
                 // Styling is handled by the CSS rule for #add-to-remember-button
            }
        }


        // Function to add the current question to the remember list when button is clicked
        // This function is now called *only* when the 'Add to Remember List' button is explicitly clicked.
        function addToRememberList() {
            const question = currentTopicQuestions[currentQuestionIndex];
            // Check if the current question is already in the remember list before adding
            const isAlreadyAdded = questionsToRemember.some(q => q.originalNumber === question.originalNumber && q.topic === question.topic);

            if (!isAlreadyAdded) {
                // Add a copy of the current question object with a flag
                 questionsToRemember.push({...question, isRememberedItem: true}); // Use spread to copy properties

                // Update button state immediately
                checkRememberButtonState(question); // This will set the text to "Added!" and disable the button
                console.log(`Question ${question.originalNumber} added to remember list.`);
            }
            // If it was already added, the button should have been disabled already by checkRememberButtonState
        }


        function nextQuestion() {
            currentQuestionIndex++;
            if (currentQuestionIndex < currentTopicQuestions.length) {
                displayQuestion(); // displayQuestion will handle showing/enabling buttons based on type
                displayRandomQuote();
            } else {
                // Should be handled by selectAnswer/skipQuestion/handleSelfCorrection, but included for safety
                endGame();
            }
        }

        function endGame() {
            gameInProgress = false;
            // Hide game elements
            questionAreaElement.classList.add('hidden');
            feedbackElement.classList.add('hidden');
            explanationAreaElement.classList.add('hidden');
            explanationAreaElement.classList.remove('visible');
            scoreAreaElement.classList.add('hidden');
            nextButton.classList.add('hidden');
            skipButton.classList.add('hidden'); // Ensure skip button is hidden at the end
            addToRememberButton.classList.add('hidden'); // Ensure remember button is hidden at the end
             essaySelfCorrectionButtonsElement.classList.add('hidden'); // Ensure essay buttons are hidden at the end
             revealAnswerButton.classList.add('hidden'); // Ensure reveal button is hidden at the end
            quoteAreaElement.classList.add('hidden');
            questionCounterElement.classList.add('hidden');


            // Show final score and restart button
            finalScoreElement.classList.remove('hidden');
            finalScoreTextElement.textContent = score;
            finalTotalTextElement.textContent = currentTopicQuestions.length;
            restartButton.classList.remove('hidden');

            // Show Review PDF button only if there were mistakes, skips, or items to remember
             // lessonAttempts contains incorrect MCQs, skipped MCQs, and self-corrected wrong Essays
             // questionsToRemember contains correct MCQs added (if button clicked), and self-corrected correct Essays added (if button clicked)
            if (lessonAttempts.length > 0 || questionsToRemember.length > 0) {
                downloadPdfButton.classList.remove('hidden');
            } else {
                downloadPdfButton.classList.add('hidden');
            }

            // Always show the Export All button on the final screen
            exportAllPdfButton.classList.remove('hidden');
        }

        function displayRandomQuote() {
            // Only display quote if game is in progress
            if (gameInProgress) {
                const randomIndex = Math.floor(Math.random() * quotes.length);
                currentQuoteElement.textContent = quotes[randomIndex];
                quoteAreaElement.classList.remove('hidden');
            } else {
                quoteAreaElement.classList.add('hidden'); // Hide if not in game
            }
        }

        // --- PDF Generation Functions using html2pdf.js ---

        // Helper function to generate the HTML content for a single item in the PDF
        // It now handles different question types and sources (attempts vs remembered vs all)
        function buildItemHtml(item, index, isReview = true) {
            // Common CSS styles for PDF content
            const pdfStyles = `
                <style>
                    body { font-family: 'Arial', sans-serif; line-height: 1.5; color: #333; margin: 0; padding: 0; }
                    p { margin: 0 0 8px 0; }
                    strong { font-weight: bold; }
                    ul { margin: 8px 0 8px 20px; padding: 0; list-style: none; }
                    li { margin-bottom: 4px; font-size: 15pt; } /* Set font size for options list items */
                    .item-container { border: 1px solid #eee; padding: 15px; margin-bottom: 20px; border-radius: 5px; }
                    .item-header { font-size: 11pt; font-weight: bold; margin-bottom: 10px; color: #444; }
                    .question-text { font-size: 16pt; margin-bottom: 8px; } /* Set font size for question text */
                    .answer-text { font-size: 15pt; } /* Set font size for answer text */
                    .correct-answer { color: #28a745; }
                    .incorrect-answer { color: #dc3545; }
                    .skipped-answer { color: #6c757d; font-style: italic; }
                     .self-corrected-wrong { color: #dc3545; font-style: italic; }
                    .explanation-text { font-size: 14pt; color: #1b5e20; margin-top: 8px; } /* Set font size for explanation */
                    /* Basic sub/sup styling */
                    sub, sup { font-size: 0.7em; line-height: 0; position: relative; vertical-align: baseline; }
                    sup { top: -0.5em; }
                    sub { bottom: -0.2em; }
                </style>
            `;

            let itemHtml = `<div class="item-container">`;

             // Determine how to display the item based on context (Review vs All) and type (MCQ vs Essay)

            if (isReview) {
                 // --- Building for Review PDF (Mistakes/Skips/Remembered) ---
                 // Item comes from either lessonAttempts or questionsToRemember
                 const isRemembered = !!item.isRememberedItem; // Check the flag

                 itemHtml += `<p class="item-header">Item ${index + 1}: (Original Question ${item.originalNumber})</p>`;
                 itemHtml += `<p class="question-text"><strong>Question:</strong> ${item.questionText || item.question}</p>`; // Use questionText from attempt if available, otherwise question from original

                 if (item.type === 'mcq') {
                      // Display for MCQ in review (Incorrect/Skipped - from lessonAttempts)
                      // Or Remembered MCQ (from questionsToRemember)
                      if (isRemembered) {
                          // Do nothing specific for remembered MCQs here, just show Question, Answer, Explanation below
                      } else { // Must be from lessonAttempts, i.e., incorrect or skipped
                          if (item.selectedAnswer === "[Skipped]") {
                             itemHtml += `<p class="answer-text skipped-answer"><strong>Your Action:</strong> [Skipped]</p>`;
                         } else if (item.selectedAnswer) { // Was an incorrect attempt
                             itemHtml += `<p class="answer-text incorrect-answer"><strong>Your Answer:</strong> ${item.selectedAnswer}</p>`;
                         }
                      }

                 } else if (item.type === 'essay') {
                     // Display for Essay in review (Self-corrected Wrong - from lessonAttempts or Remembered - from questionsToRemember)
                     if (!isRemembered) { // Must be a self-corrected wrong attempt from lessonAttempts
                         itemHtml += `<p class="answer-text self-corrected-wrong"><strong>Your Action:</strong> [Self-Corrected as Wrong]</p>`;
                     }
                     // If it's a remembered essay (isRememberedItem: true), no user action text is shown here,
                     // just the question, model answer, and explanation below.
                 }

                 // Always show the correct/model answer in the review PDF
                 itemHtml += `<p class="answer-text correct-answer"><strong>Correct/Model Answer:</strong> ${item.correctAnswerText}</p>`;

                 // Always show the explanation in the review PDF
                 itemHtml += `<p class="explanation-text"><strong>Explanation:</strong> ${item.explanation}</p>`;


            } else {
                 // --- Building for All Questions PDF ---
                 // Item comes directly from allQuestions
                 const question = item; // Use the original question object directly

                 itemHtml += `<p class="item-header">Question ${question.originalNumber}:</p>`;
                 itemHtml += `<p class="question-text"><strong>Question:</strong> ${question.question}</p>`;

                 if (question.type === 'mcq') {
                     // Add options list for MCQ
                     if (question.options && Array.isArray(question.options) && question.options.length > 0) {
                          itemHtml += `<p style="margin-bottom: 5px;"><strong>Options:</strong></p><ul>`;
                          question.options.forEach((opt, idx) => {
                              itemHtml += `<li>${String.fromCharCode(97 + idx)}) ${opt}</li>`;
                          });
                          itemHtml += `</ul>`;
                     }
                     // Add correct answer for MCQ
                     itemHtml += `<p class="answer-text correct-answer"><strong>Correct Answer:</strong> ${question.correctAnswerText}</p>`;

                 } else if (question.type === 'essay') {
                      // Add model answer for Essay
                     itemHtml += `<p class="answer-text correct-answer"><strong>Model Answer:</strong> ${question.correctAnswerText}</p>`;
                 }

                 // Add explanation
                 itemHtml += `<p class="explanation-text"><strong>Explanation:</strong> ${question.explanation}</p>`;
            }


            itemHtml += `</div>`; // Close item-container

            // Include styles with each item for safety in html2pdf rendering
             return pdfStyles + itemHtml;
        }


        // PDF Generation Function for Mistakes, Skips, and Remembered Items using html2pdf.js
        function generateReviewPDF() {
             // lessonAttempts contains incorrect MCQs, skipped MCQs, and self-corrected wrong Essays
             // questionsToRemember contains correct MCQs added (if button clicked), and self-corrected correct Essays added (if button clicked)

            if (lessonAttempts.length === 0 && questionsToRemember.length === 0) {
                alert("No mistakes, skips, or items added to the 'Remember' list to review.");
                return;
            }

            const topicName = currentTopicQuestions.length > 0 ? currentTopicQuestions[0].topic : 'Lesson';

            let pdfHtml = `
                <html>
                <head>
                    <title>${topicName} Review</title>
                    <style>
                         body { font-family: 'Arial', sans-serif; line-height: 1.4; color: #333; margin: 0; padding: 20mm; }
                         h1, h2 { color: #1a2a6c; }
                         h1 { font-size: 18pt; margin-bottom: 5mm; }
                         h2 { font-size: 14pt; margin-bottom: 8mm; } /* Adjusted margin */
                         p { margin: 0 0 8px 0; }
                         strong { font-weight: bold; }
                         ul { margin: 8px 0 8px 20px; padding: 0; list-style: none; }
                         /* Font sizes for list items, question, answer, explanation handled in buildItemHtml */

                         /* Basic sub/sup styling */
                         sub, sup { font-size: 0.7em; line-height: 0; position: relative; vertical-align: baseline; }
                         sup { top: -0.5em; }
                         sub { bottom: -0.2em; }

                         /* Section Titles */
                         .section-title { font-size: 16pt; font-weight: bold; margin-top: 15mm; margin-bottom: 8mm; } /* Adjusted margin */
                         .section-title.attempts { color: #dc3545; } /* Color for Mistakes/Skips/Wrong */
                         .section-title.remember { color: #4a69bd; } /* Color for Remembered */

                    </style>
                </head>
                <body>
                    <h1>Review - Mistakes, Skips, and Remembered Items</h1>
                    <h2>Lesson: ${topicName}</h2>
                    <p><strong>Final Score:</strong> ${score} / ${currentTopicQuestions.length}</p>
            `;

            // --- Incorrect Answers & Skips & Self-Corrected Wrong Section ---
            if (lessonAttempts.length > 0) {
                pdfHtml += `<h2 class="section-title attempts">Incorrect Answers, Skips & Self-Corrected Wrong (${lessonAttempts.length})</h2>`;
                 // Sort attempts by original question number before adding to PDF
                 const sortedAttempts = lessonAttempts.slice().sort((a, b) => a.originalNumber - b.originalNumber);
                sortedAttempts.forEach((item, index) => {
                    pdfHtml += buildItemHtml(item, index, true); // true for isReview
                });
            }

            // --- Questions to Remember Section ---
            if (questionsToRemember.length > 0) {
                 // Add a little space before this section if the previous one exists
                 if (lessonAttempts.length > 0) {
                     pdfHtml += `<div style="height: 10mm;"></div>`; // Add vertical space
                 }
                pdfHtml += `<h2 class="section-title remember">Questions to Remember (${questionsToRemember.length})</h2>`;
                 // Sort remembered items by original question number
                 const sortedRemembered = questionsToRemember.slice().sort((a, b) => a.originalNumber - b.originalNumber);
                sortedRemembered.forEach((item, index) => {
                     // For remembered items, use buildItemHtml in review mode.
                     // The item object already has the necessary structure (question, type, etc.)
                    pdfHtml += buildItemHtml(item, index, true); // true for isReview
                });
            }

            pdfHtml += `</body></html>`;

            // Use html2pdf.js to generate and save the PDF
            const worker = html2pdf().from(pdfHtml).set({
                margin: 15, // Page margins in mm
                filename: `${topicName.replace(/[^a-z0-9]/gi, '_')}_Review.pdf`,
				pagebreak:{mode:"avoid-all"}, // Use avoid-all to prevent breaking items/sections
                image: { type: 'jpeg', quality: 0.98 },
                html2canvas: {
                    scale: 8, // Increased scale for better resolution
                    logging: true,
                    dpi: 300,
                    letterRendering: true
                },
                jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }
            });

             worker.save();
        }


        // PDF Generation Function for ALL Questions using html2pdf.js
        function generateAllQuestionsPDF() {
             if (currentTopicQuestions.length === 0) {
                alert("No questions available for the current lesson.");
                return;
            }

            const topicName = currentTopicQuestions.length > 0 ? currentTopicQuestions[0].topic : 'Lesson';

            let pdfHtml = `
                <html>
                <head>
                    <title>${topicName} All Questions</title>
                     <style>
                         body { font-family: 'Arial', sans-serif; line-height: 1.4; color: #333; margin: 0; padding: 20mm; }
                         h1, h2 { color: #1a2a6c; }
                         h1 { font-size: 18pt; margin-bottom: 5mm; }
                         h2 { font-size: 14pt; margin-bottom: 10mm; }
                         p { margin: 0 0 8px 0; }
                         strong { font-weight: bold; }
                         ul { margin: 8px 0 8px 20px; padding: 0; list-style: none; }
                         /* Font sizes for list items, question, answer, explanation handled in buildItemHtml */

                         /* Basic sub/sup styling */
                         sub, sup { font-size: 0.7em; line-height: 0; position: relative; vertical-align: baseline; }
                         sup { top: -0.5em; }
                         sub { bottom: -0.2em; }
                    </style>
                </head>
                <body>
                    <h1>All Questions and Answers</h1>
                    <h2>Lesson: ${topicName}</h2>
            `;

             // Sort questions just in case they weren't filtered/sorted earlier (though startGame does this)
             const sortedQuestions = currentTopicQuestions.slice().sort((a, b) => a.originalNumber - b.originalNumber);

            // Add each question to the HTML
             sortedQuestions.forEach((item, index) => {
                pdfHtml += buildItemHtml(item, index, false); // false for not isReview (i.e., building for All Questions)
            });

            pdfHtml += `</body></html>`;


            // Use html2pdf.js to generate and save the PDF
             const worker = html2pdf().from(pdfHtml).set({
                margin: 15, // Page margins in mm
                filename: `${topicName.replace(/[^a-z0-9]/gi, '_')}_All_Questions_and_Answers.pdf`,
                 image: { type: 'jpeg', quality: 0.98 },
				 pagebreak:{mode:"avoid-all"}, // Use avoid-all to prevent breaking items
                 html2canvas: {
                     scale: 8, // Increased scale for better resolution
                     logging: true,
                     dpi: 300,
                     letterRendering: true
                    },
                 jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }
            });

             worker.save();
        }


        // --- Event Listeners ---
        addToRememberButton.addEventListener('click', addToRememberList);
        // revealAnswerButton.addEventListener('click', revealAnswer); // Listener added in displayQuestion now
        skipButton.addEventListener('click', skipQuestion);
        nextButton.addEventListener('click', nextQuestion);
        restartButton.addEventListener('click', showLessonSelection);
        downloadPdfButton.addEventListener('click', generateReviewPDF); // Hook up to the new Review PDF function
        exportAllPdfButton.addEventListener('click', generateAllQuestionsPDF);


        // --- Initial Call to Show Lesson Selection ---
        // Using DOMContentLoaded ensures the script runs after the HTML is fully parsed
        document.addEventListener('DOMContentLoaded', showLessonSelection);
    </script>

</body>

</html>
